(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{330:function(e,t,n){e.exports=n.p+"static/media/logo.5419e46c.svg"},346:function(e,t,n){e.exports=n(580)},362:function(e,t,n){},444:function(e,t,n){},479:function(e,t,n){},529:function(e,t,n){},539:function(e,t,n){},541:function(e,t,n){},544:function(e,t,n){},545:function(e,t,n){},546:function(e,t,n){},549:function(e,t,n){},550:function(e,t,n){},551:function(e,t,n){},572:function(e,t,n){},580:function(e,t,n){"use strict";n.r(t);var a,r,c,o=n(84),i=n(0),s=n.n(i),u=n(104),l=n.n(u),p=n(114),d=(n(351),n(18)),m=n(27),b=n(8),f=n(13),h=n(14),g=n(16),O=n(15),y=n(17),v=n(607),j=n(614),E=n(615),x=n(616),C=n(605),k=n(594),A=n(299),S=n.n(A),T=n(606),w=n(95),R=n(599),N=Object(R.a)("LOAD_SETTINGS_SUCCESS","CHANGE_SETTINGS_CURRENCY","UPDATE_EXCHANGE_RATE","UPDATE_EXCHANGE_RATE_SUCCESS","UPDATE_EXCHANGE_RATE_FAILURE","COMPLETE_SETUP","TOGGLE_SECTION_COLLAPSE"),_=N.loadSettingsSuccess,D=N.changeSettingsCurrency,I=N.updateExchangeRate,M=N.updateExchangeRateSuccess,F=N.updateExchangeRateFailure,L=N.toggleSectionCollapse,P=N.completeSetup,U={AED:{name:"Emirati Dirham",symbol:".\u062f.\u0628",exp:2,flag:"ae"},AFN:{name:"Afghan Afghani",symbol:"\u060b",exp:2,flag:"af"},ALL:{name:"Albanian lek",symbol:"lek",exp:2,flag:"al"},AMD:{name:"Armenian dram",symbol:"AMD",exp:2,flag:"am"},ANG:{name:"Dutch Guilder",symbol:"\u0192",exp:2,flag:"an"},AOA:{name:"Angolan Kwanza",symbol:"Kz",exp:2,flag:"ao"},ARS:{name:"Argentine peso",symbol:"$",exp:2,flag:"ar"},AUD:{name:"Australian Dollar",symbol:"$",exp:2,flag:"au"},AWG:{name:"Arubin florin",symbol:"\u0192",exp:2,flag:"aw"},AZN:{name:"Azerbaijani manat",symbol:"\u043c\u0430\u043d",exp:2,flag:"az"},BAM:{name:"Bosnian Convertible Marka",symbol:"KM",exp:2,flag:"ba"},BBD:{name:"Barbadian dollar",symbol:"$",exp:2,flag:"bb"},BDT:{name:"Bangladeshi Taka",symbol:"Tk",exp:2,flag:"bd"},BGN:{name:"Bulgarian lev",symbol:"\u043b\u0432",exp:2,flag:"bg"},BHD:{name:"Bahraini Dinar",symbol:".\u062f.\u0628 or BD",exp:3,flag:"bh"},BIF:{name:"Burundian Franc",symbol:"FBu",exp:0,flag:"bi"},BMD:{name:"Bermudian dollar",symbol:"$",exp:2,flag:"bm"},BND:{name:"Bruneian Dollar",symbol:"$",exp:2,flag:"bn"},BOB:{name:"Bolivian Boliviano",symbol:"$b",exp:2,flag:"bo"},BRL:{name:"Brazilian real",symbol:"R$",exp:2,flag:"br"},BSD:{name:"Bahamian dollar",symbol:"B$",exp:2,flag:"bs"},BTN:{name:"Bhutanese Ngultrum",symbol:"Nu.",exp:2,flag:"bt"},BWP:{name:"Botswana Pula",symbol:"P",exp:2,flag:"bw"},BYR:{name:"Belarusian ruble",symbol:"\u0440",exp:2,flag:"by"},BZD:{name:"Belize dollar",symbol:"BZ$",exp:2,flag:"bz"},CAD:{name:"Canadian Dollar",symbol:"$",exp:2,flag:"ca"},CHF:{name:"Swiss Franc",symbol:"CHF",exp:2,flag:"ch"},CLP:{name:"Chilean Peso",symbol:"$",exp:0,flag:"cl"},CNY:{name:"Yuan or chinese renminbi",symbol:"\xa5",exp:2,flag:"cn"},COP:{name:"Colombian peso",symbol:"$",exp:2,flag:"co"},CRC:{name:"Costa Rican col\xf3n",symbol:"\u20a1",exp:2,flag:"cr"},CUC:{name:"Cuban convertible peso",symbol:"$",exp:2,flag:"cu"},CUP:{name:"Cuban peso",symbol:"\u20b1",exp:2,flag:"cu"},CVE:{name:"Cape Verdean Escudo",symbol:"$",exp:0,flag:"cv"},CZK:{name:"Czech koruna",symbol:"K\u010d",exp:2,flag:"cz"},DJF:{name:"Djiboutian Franc",symbol:"fdj",exp:0,flag:"dj"},DKK:{name:"Danish krone",symbol:"kr",exp:2,flag:"dk"},DOP:{name:"Dominican peso",symbol:"$",exp:2,flag:"do"},DZD:{name:"Algerian Dinar",symbol:"\u062c\u062f",exp:2,flag:"dz"},EGP:{name:"Egyptian Pound",symbol:"\xa3 ",exp:2,flag:"eg"},ERN:{name:"Eritrean nakfa",symbol:"\u1293\u1255\u134b",exp:2,flag:"er"},ETB:{name:"Ethiopian Birr",symbol:"Br",exp:2,flag:"et"},EUR:{name:"Euro",symbol:"\u20ac",exp:2,flag:"eu"},FJD:{name:"Fijian dollar",symbol:"$",exp:2,flag:"fj"},FKP:{name:"Falkland Island Pound",symbol:"\xa3",exp:2,flag:"fk"},GBP:{name:"British Pound",symbol:"\xa3",exp:2,flag:"gb"},GEL:{name:"Georgian lari",symbol:"\u10da",exp:2,flag:"ge"},GHS:{name:"Ghanaian Cedi",symbol:"GH\xa2",exp:2,flag:"gh"},GIP:{name:"Gibraltar pound",symbol:"\xa3",exp:2,flag:"gi"},GMD:{name:"Gambian dalasi",symbol:"D",exp:2,flag:"gm"},GNF:{name:"Guinean Franc",symbol:"GNF",exp:0,flag:"gn"},GTQ:{name:"Guatemalan Quetzal",symbol:"Q",exp:2,flag:"gt"},GYD:{name:"Guyanese dollar",symbol:"$",exp:2,flag:"gy"},HKD:{name:"Hong Kong dollar",symbol:"HK$",exp:2,flag:"hk"},HNL:{name:"Honduran lempira",symbol:"L",exp:2,flag:"hn"},HRK:{name:"Croatian kuna",symbol:"kn",exp:2,flag:"hr"},HTG:{name:"Haitian gourde",symbol:"G",exp:2,flag:"ht"},HUF:{name:"Hungarian forint",symbol:"Ft",exp:2,flag:"hu"},IDR:{name:"Indonesian Rupiah",symbol:"Rp",exp:2,flag:"id"},ILS:{name:"Israeli Shekel",symbol:"\u20aa",exp:2,flag:"il"},INR:{name:"Indian Rupee",symbol:"\u20b9",exp:2,flag:"in"},IQD:{name:"Iraqi Dinar",symbol:"\u0639.\u062f",exp:3,flag:"iq"},IRR:{name:"Iranian Rial",symbol:"\ufdfc",exp:2,flag:"ir"},ISK:{name:"Icelandic Krona",symbol:"kr",exp:0,flag:"is"},JMD:{name:"Jamaican dollar",symbol:"J$",exp:2,flag:"jm"},JOD:{name:"Jordanian Dinar",symbol:"JOD",exp:3,flag:"jo"},JPY:{name:"Japanese yen",symbol:"\xa5",exp:0,flag:"jp"},KES:{name:"Kenyan Shilling",symbol:"KSh",exp:2,flag:"ke"},KGS:{name:"Kyrgyzstani som",symbol:"\u043b\u0432",exp:2,flag:"kg"},KHR:{name:"Cambodian Riel",symbol:"\u17db",exp:2,flag:"kh"},KMF:{name:"Comoro Franc",symbol:"KMF",exp:0,flag:"km"},KPW:{name:"North Korean won",symbol:"\u20a9",exp:2,flag:"kp"},KRW:{name:"South Korean won",symbol:"\u20a9",exp:0,flag:"kr"},KWD:{name:"Kuwaiti Dinar",symbol:"\u0643",exp:3,flag:"kw"},KYD:{name:"Caymanian Dollar",symbol:"$",exp:2,flag:"ky"},KZT:{name:"Kazakhstani tenge",symbol:"\u20b8",exp:2,flag:"kz"},LAK:{name:"Lao or Laotian Kip",symbol:"\u20ad",exp:2,flag:"la"},LBP:{name:"Lebanese Pound",symbol:"\u0644.\u0644",exp:2,flag:"lb"},LKR:{name:"Sri Lankan Rupee",symbol:"Rs",exp:2,flag:"lk"},LRD:{name:"Liberian Dollar",symbol:"$",exp:2,flag:"lr"},LSL:{name:"Lesotho loti",symbol:"L or M",exp:2,flag:"ls"},LTL:{name:"Lithuanian litas",symbol:"Lt",exp:2,flag:"lt"},LYD:{name:"Libyan Dinar",symbol:" \u062f.\u0644",exp:3,flag:"ly"},MAD:{name:"Moroccan Dirham",symbol:"\u0645.\u062f.",exp:2,flag:"ma"},MDL:{name:"Moldovan Leu",symbol:"L",exp:2,flag:"md"},MGA:{name:"Malagasy Ariary",symbol:"Ar",exp:2,flag:"mg"},MKD:{name:"Macedonian Denar",symbol:"\u0434\u0435\u043d",exp:2,flag:"mk"},MMK:{name:"Burmese Kyat",symbol:"K",exp:2,flag:"mm"},MNT:{name:"Mongolian Tughrik",symbol:"\u20ae",exp:2,flag:"mn"},MOP:{name:"Macau Pataca",symbol:"MOP$",exp:2,flag:"mo"},MRO:{name:"Mauritanian Ouguiya",symbol:"UM",exp:2,flag:"mr"},MUR:{name:"Mauritian rupee",symbol:"Rs",exp:2,flag:"mu"},MVR:{name:"Maldivian Rufiyaa",symbol:"rf",exp:2,flag:"mv"},MWK:{name:"Malawian Kwacha",symbol:"MK",exp:2,flag:"mw"},MXN:{name:"Mexico Peso",symbol:"$",exp:2,flag:"mx"},MYR:{name:"Malaysian Ringgit",symbol:"RM",exp:2,flag:"my"},MZN:{name:"Mozambican Metical",symbol:"MT",exp:2,flag:"mz"},NAD:{name:"Namibian Dollar",symbol:"$",exp:2,flag:"na"},NGN:{name:"Nigerian Naira",symbol:"\u20a6",exp:2,flag:"ng"},NIO:{name:"Nicaraguan c\xf3rdoba",symbol:"C$",exp:2,flag:"ni"},NOK:{name:"Norwegian krone",symbol:"kr",exp:2,flag:"no"},NPR:{name:"Nepalese Rupee",symbol:"Rs",exp:2,flag:"np"},NZD:{name:"New Zealand Dollar",symbol:"$",exp:2,flag:"nz"},OMR:{name:"Omani Rial",symbol:"\u0639.\u0631.",exp:3,flag:"om"},PAB:{name:"Balboa panam\xe9rn",symbol:"B/",exp:2,flag:"pa"},PEN:{name:"Peruvian nuevo sol",symbol:"S/",exp:2,flag:"pe"},PGK:{name:"Papua New Guinean Kina",symbol:"K",exp:2,flag:"pg"},PHP:{name:"Philippine Peso",symbol:"\u20b1",exp:2,flag:"ph"},PKR:{name:"Pakistani Rupee",symbol:"Rs",exp:2,flag:"pk"},PLN:{name:"Polish z\u0142oty",symbol:"z\u0142",exp:2,flag:"pl"},PYG:{name:"Paraguayan guarani",symbol:"\u20b2",exp:0,flag:"py"},QAR:{name:"Qatari Riyal",symbol:"\u0642.\u0631 ",exp:2,flag:"qa"},RON:{name:"Romanian leu",symbol:"lei",exp:2,flag:"ro"},RSD:{name:"Serbian Dinar",symbol:"\u0420\u0421\u0414",exp:2,flag:"rs"},RUB:{name:"Russian Rouble",symbol:"\u20bd",exp:2,flag:"ru"},RWF:{name:"Rwandan franc",symbol:"FRw, RF, R\u20a3",exp:0,flag:"rw"},SAR:{name:"Saudi Arabian Riyal",symbol:"\u0631.\u0633",exp:2,flag:"sa"},SBD:{name:"Solomon Islander Dollar",symbol:"SI$",exp:2,flag:"sb"},SCR:{name:"Seychellois Rupee",symbol:"Rs",exp:2,flag:"sc"},SDG:{name:"Sudanese Pound",symbol:"SDG",exp:2,flag:"sd"},SEK:{name:"Swedish krona",symbol:"kr",exp:2,flag:"se"},SGD:{name:"Singapore Dollar",symbol:"$",exp:2,flag:"sg"},SLL:{name:"Sierra Leonean Leone",symbol:"Le",exp:2,flag:"sl"},SOS:{name:"Somali Shilling",symbol:"S",exp:2,flag:"so"},SRD:{name:"Surinamese dollar",symbol:"$",exp:2,flag:"sr"},SYP:{name:"Syrian Pound",symbol:"\xa3",exp:2,flag:"sy"},SZL:{name:"Swazi Lilangeni",symbol:"L or E",exp:2,flag:"sz"},THB:{name:"Thai Baht",symbol:"\u0e3f",exp:2,flag:"th"},TJS:{name:"Tajikistani somoni",symbol:"TJS",exp:2,flag:"tj"},TMT:{name:"Turkmenistan manat",symbol:"T",exp:2,flag:"tm"},TND:{name:"Tunisian Dinar",symbol:"TND",exp:3,flag:"tn"},TOP:{name:"Tongan Pa'anga",symbol:"T$",exp:2,flag:"to"},TRY:{name:"Turkish Lira",symbol:"\u20ba",exp:2,flag:"tr"},TTD:{name:"Trinidadian dollar",symbol:"TT$",exp:2,flag:"tt"},TWD:{name:"Taiwan New Dollar",symbol:"NT$",exp:2,flag:"tw"},TZS:{name:"Tanzanian Shilling",symbol:"Sh",exp:2,flag:"tz"},UAH:{name:"Ukrainian Hryvnia",symbol:"\u20b4",exp:2,flag:"ua"},UGX:{name:"Ugandan Shilling",symbol:"USh",exp:0,flag:"ug"},USD:{name:"US Dollar",symbol:"$",exp:2,flag:"us"},UYU:{name:"Uruguayan peso",symbol:"$U",exp:2,flag:"uy"},UZS:{name:"Uzbekistani som",symbol:"\u043b\u0432",exp:2,flag:"uz"},VEF:{name:"Venezuelan bolivar",symbol:"Bs",exp:2,flag:"ve"},VND:{name:"Vietnamese Dong",symbol:"\u20ab",exp:0,flag:"vn"},VUV:{name:"Vanuatu Vatu",symbol:"VT",exp:0,flag:"vu"},WST:{name:"Samoan T\u0101l\u0101",symbol:"$",exp:2,flag:"ws"},YER:{name:"Yemeni Rial",symbol:"YER",exp:2,flag:"ye"},ZAR:{name:"South African Rand",symbol:"R",exp:2,flag:"za"},ZMW:{name:"Zambian Kwacha",symbol:"ZMK",exp:2,flag:"zm"},ZWD:{name:"Zimbabwean Dollar",symbol:"Z$",exp:2,flag:"zw"},XAU:{name:"Gold, troy ounce",symbol:"XAU",exp:2}},G={defaultBase:"USD",options:function(){return Object.keys(U).map(function(e){return{key:e,value:e,flag:U[e].flag,text:"".concat(e,", ").concat(U[e].name)}})},name:function(e){return U[e].name},symbol:function(e){return U[e].symbol},minAmount:function(e){return Number("1e-".concat(U[e].exp))},numberToCents:function(e,t){return Math.round(parseFloat("".concat(e,"e").concat(U[t].exp)))},centsToNumber:function(e,t){var n=U[t].exp;return Number("".concat(e,"e-").concat(n))},centsToString:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=U[t].exp,r=Number("".concat(e,"e-").concat(a));return n?r.toLocaleString(void 0,{minimumFractionDigits:a,maximumFractionDigits:a}):r.toString()},convert:function(e,t,n,a){return e/t*Math.pow(10,U[n].exp-U[a].exp)}},B=function(e){return e.settings.exchangeRate},K=function(e){return e.settings.currency.base},Y=function(e){return G.symbol(e.settings.currency.base)},W=function(e){return e.settings.currency.secondary},H=function(e){return e.settings.collapsedSections},z=(n(362),Object(d.b)(function(e,t){return Object(b.a)({},t,{collapsed:H(e)})},{toggle:L})(function(e){var t=e.name,n=e.label,a=e.LabelComponent,r=e.collapsed,c=e.toggle,o=e.children;return s.a.createElement("div",{className:"section"},s.a.createElement("div",{className:r.includes(t)?"section__header":"section__header active",onClick:function(){return c(t)}},s.a.createElement(w.a,{name:"dropdown"}),s.a.createElement("h3",null,n),a&&s.a.createElement(a,null)),!r.includes(t)&&s.a.createElement("div",{className:"section__body"},o))})),V=n(34),$=n(62),q=n(3);!function(e){e.Cash="cash",e.Bank="bank",e.Deposit="deposit",e.Credit="credit",e.Asset="asset"}(r||(r={})),function(e){e[e.Archive=0]="Archive",e[e.Cleanup=1]="Cleanup",e[e.Move=2]="Move"}(c||(c={}));var Q=(a={},Object(q.a)(a,r.Cash,"Cash"),Object(q.a)(a,r.Bank,"Bank Account"),Object(q.a)(a,r.Deposit,"Deposit"),Object(q.a)(a,r.Credit,"Credit"),Object(q.a)(a,r.Asset,"Asset"),a),Z=r.Cash,J=c.Archive;function X(e){return Q[e]}function ee(e){var t=e.id,n=e.balance,a=e.debt,r=e.name,c=e.group,o=e.currencies,i=e.on_dashboard,s=e.archived;return{id:t||"A".concat(Date.now()),balance:Object.keys(n).reduce(function(e,t){return e[t]=G.numberToCents(""!==n[t]?n[t]:"0",t),e},{}),debt:Object.keys(a).reduce(function(e,t){return e[t]=G.numberToCents(""!==a[t]?a[t]:"0",t),e},{}),name:r,group:c,currencies:o,on_dashboard:i,archived:s}}function te(e){return Object(b.a)({},e,{balance:Object.keys(e.balance).reduce(function(t,n){return t[n]=G.centsToString(e.balance[n],n,!1),t},{}),debt:Object.keys(e.debt).reduce(function(t,n){return t[n]=G.centsToString(e.debt[n],n,!1),t},{})})}function ne(e){return{id:e._id,name:e.name,group:e.group,balance:e.balance,debt:e.debt,currencies:e.currencies,on_dashboard:e.on_dashboard,archived:e.archived}}function ae(e){return{name:e.name,group:e.group,balance:e.balance,debt:e.debt,currencies:e.currencies,on_dashboard:e.on_dashboard,archived:e.archived}}var re,ce,oe,ie={fromArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return ie.merge({byKey:{},keys:[]},e,t)},merge:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return{byKey:Object(b.a)({},e.byKey,t.reduce(function(e,t){return e[t[n]]=t,e},{})),keys:Object(m.a)(new Set(t.map(function(e){return e[n]}).filter(function(t){return!e.keys.includes(t)}).concat(e.keys)))}},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return ie.merge(e,[t],n)},remove:function(e,t){if(!e.byKey||!e.byKey[t])return e;var n=e.keys.filter(function(e){return e!==t});return{byKey:n.reduce(function(t,n){return t[n]=e.byKey[n],t},{}),keys:n}},get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.byKey&&e.byKey[t]||n},map:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.keys.length,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.keys.slice(a,a+n).map(function(n){return t(e.byKey[n],n)})},filter:function(e,t){return e.keys.reduce(function(n,a){return t(e.byKey[a],a)&&n.push(e.byKey[a]),n},[])},apply:function(e,t){return{byKey:e.keys.reduce(function(n,a){return n[a]=t(e.byKey[a],a),n},{}),keys:e.keys}}},se=ie,ue=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},le=function(e){return e.entities.accounts},pe=function(e){return Object(V.createSelector)(de,function(t){return t.find(function(t){return t.name===e})})},de=function(e){return se.map(e.entities.accounts,function(e){return Object(b.a)({},e)}).sort(ue)},me=Object(V.createSelector)(de,function(e){return e.filter(function(e){return!e.archived})}),be=Object(V.createSelector)(me,function(e){return e.filter(function(e){return e.on_dashboard})}),fe=Object(V.createSelector)(de,function(e){return e.reduce(function(e,t){return e[t.id]=t.name,e},{})}),he=Object(V.createSelector)(de,function(e){return e.reduce(function(e,t){return e[t.id]=t.currencies,e},{})}),ge=Object(V.createSelector)(de,function(e){return e.reduce(function(e,t){return e.concat(t.currencies.filter(function(t){return!e.includes(t)}))},[])}),Oe=function(e,t,n){for(var a=e.reduce(function(e,a){var r=a.group;e[r]||(e[r]={type:r,name:X(r),accounts:[],total:0,debt:0,netTotal:0}),e[r].accounts.push(a);var c=xe(a,t,n)||0,o=Ce(a,t,n)||0;return e[r].total+=c,e[r].debt+=o,e[r].netTotal+=c-o,e},{}),r=0,c=Object.keys(a);r<c.length;r++){a[c[r]].accounts.sort(ue)}return a},ye=Object(V.createSelector)(me,K,B,Oe),ve=Object(V.createSelector)(be,K,B,Oe),je=(Object(V.createSelector)(de,K,B,Oe),Object(V.createSelector)(ye,function(e){for(var t=[],n=0,a=Object.keys(e);n<a.length;n++){var r=a[n],c=!0,o=!1,i=void 0;try{for(var s,u=e[r].accounts[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var l=s.value;t.push({key:l.id,value:l.id,text:l.name,description:X(r)})}}catch(p){o=!0,i=p}finally{try{c||null==u.return||u.return()}finally{if(o)throw i}}}return t})),Ee=Object(V.createSelector)(de,K,B,function(e,t,n){return e.reduce(function(e,a){return e+xe(a,t,n)},0)}),xe=function(e,t,n){return e.currencies.reduce(function(a,r){return Math.floor(a+G.convert(e.balance[r],n[r],t,r))},0)},Ce=function(e,t,n){return e.currencies.reduce(function(a,r){return Math.floor(a+G.convert(e.debt[r],n[r],t,r))},0)},ke=function(e){var t=e.value,n=e.code,a=e.showColor,r=void 0===a||a;return s.a.createElement("span",{className:"mono ".concat(r&&(t>=0?"positive":"negative"))},G.centsToString(t,n)," ",n)},Ae=Object(d.b)(function(e){return{netWorth:Ee(e),baseCurrency:K(e)}})(function(e){var t=e.netWorth,n=e.baseCurrency;return s.a.createElement("div",{className:"net-worth__total"},s.a.createElement(ke,{value:t,code:n}))}),Se=n(590),Te=n(582),we=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleEditClick=function(){n.props.openAccountInModal(te(n.props.account))},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.account;return s.a.createElement("div",{className:"account-widget-account"},s.a.createElement("div",{className:"account-widget-account__name"},s.a.createElement(Se.a,{to:"/transactions/".concat(t.id)},t.name)),s.a.createElement("div",{className:"account-widget-account__balance"},t.currencies.map(function(n){return s.a.createElement(s.a.Fragment,null,s.a.createElement(ke,{key:n,value:t.balance[n],code:n}),e.props.group===r.Asset&&s.a.createElement(s.a.Fragment,null,s.a.createElement(ke,{key:n+"-debt",value:-t.debt[n],code:n}),s.a.createElement(ke,{key:n,value:t.balance[n]-t.debt[n],code:n})))})),this.props.openAccountInModal&&s.a.createElement("div",{className:"account-widget-account__edit"},s.a.createElement(Te.a,{basic:!0,circular:!0,icon:"pencil",onClick:this.handleEditClick})))}}]),t}(s.a.Component),Re=function(e){var t=e.baseCurrency,n=e.group,a=e.isCollapsed,c=e.toggleGroupCollapse,o=e.openAccountInModal;return s.a.createElement("div",{className:"account-widget-group"},s.a.createElement("div",{className:"account-widget-group__header",onClick:c},s.a.createElement("span",{className:"account-widget-group__name"},n.name),s.a.createElement("span",{className:"account-widget-group__total"},s.a.createElement(ke,{value:n.type===r.Asset?n.netTotal:n.total,code:t}))),!a&&n.accounts.map(function(e){return s.a.createElement(we,{key:e.id,account:e,group:n.type,openAccountInModal:o})}))},Ne=(n(444),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).toggle=function(e){return function(){return n.props.toggleSectionCollapse(e)}},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.groups);return t.length>0&&s.a.createElement("div",{className:"account-widget"},t.map(function(t){return s.a.createElement(Re,{key:t,baseCurrency:e.props.baseCurrency,group:e.props.groups[t],isCollapsed:e.props.collapsedGroups.includes(t),toggleGroupCollapse:e.toggle(t),openAccountInModal:e.props.openAccountInModal})}))}}]),t}(s.a.Component)),_e=Object(d.b)(function(e,t){return Object(b.a)({},t,{baseCurrency:K(e),collapsedGroups:H(e),groups:ve(e)})},{toggleSectionCollapse:L})(Ne),De=n(609),Ie=n(597),Me=n(600),Fe=n(593),Le=n(38),Pe=n.n(Le),Ue=(new Date).getTimezoneOffset();function Ge(e){return(e instanceof Date?e.getTime():e)-60*Ue*1e3}function Be(e){return(e instanceof Date?e.getTime():e)+60*Ue*1e3}!function(e){e[e.Expense=0]="Expense",e[e.Transfer=1]="Transfer",e[e.Income=2]="Income"}(ce||(ce={})),function(e){e[e.Fixed=0]="Fixed",e[e.Variable_Non_Discretionary=1]="Variable_Non_Discretionary",e[e.Discretionary=2]="Discretionary"}(oe||(oe={}));var Ke=ce.Expense,Ye=ce.Transfer,We=ce.Income,He=(re={},Object(q.a)(re,Ke,"Expense"),Object(q.a)(re,Ye,"Transfer"),Object(q.a)(re,We,"Income"),re),ze=Ke,Ve=5;function $e(e){return He[e]}function qe(e){var t=e.tags&&e.tags[e.kind];return Object(b.a)({},e,{id:e.id||"",amount:G.numberToCents(parseFloat(e.amount)*(e.kind===Ke?-1:1),e.currency),linkedAmount:e.kind===Ye&&e.linkedCurrency&&e.linkedAmount?G.numberToCents(e.linkedAmount,e.linkedCurrency):void 0,note:e.note||void 0,tags:t&&t.length>0?t:void 0,date:new Date(e.date).getTime()})}function Qe(e){var t=e._id,n=e.kind,a=e.note,r=e.tags,c=e.accountId,o=e.amount,i=e.currency,s=e.linkedAccountId,u=e.linkedAmount,l=e.linkedCurrency;if(!t)throw new Error('Transaction storage object missing "_id"');var p=t.match(/T([0-9]+)-/);if(!p)throw new Error('No date in Transaction ID "'.concat(t,'"'));return{id:t,date:parseInt(p[1],10),kind:n,note:a,tags:r,accountId:c,amount:o,currency:i,linkedAccountId:s,linkedAmount:u,linkedCurrency:l}}function Ze(e){var t=e.kind,n=e.note,a=e.tags,r=e.accountId,c=e.amount,o=e.currency,i=e.linkedAccountId,s=e.linkedAmount,u=e.linkedCurrency;return Object(b.a)({kind:t,note:n,tags:a,accountId:r,amount:c,currency:o},t===Ye&&{linkedAccountId:i,linkedAmount:s,linkedCurrency:u})}var Je=n(7),Xe=n.n(Je),et=(Xe.a.shape({key:Xe.a.string,value:Xe.a.string,text:Xe.a.string}),n(603)),tt=function(e){var t=e.withTransfer,n=e.activeKind,a=e.changeKind,r=ce.Expense,c=ce.Transfer,o=ce.Income,i=t?[r,c,o]:[r,o];return s.a.createElement(et.a,{attached:"top",widths:i.length},i.map(function(e){return s.a.createElement(et.a.Item,{key:e,color:e===r?"red":e===o?"green":"black",name:$e(e),active:e===n,onClick:function(){return a(e)}})}))},nt=function(e){return s.a.createElement(Ie.a.Group,null,s.a.createElement(Ie.a.Field,{width:11,className:"mobile-with-margin"},s.a.createElement("label",null,e.label),s.a.createElement(Me.a,{selection:!0,options:e.accountOptions,value:e.accountId,onChange:e.onAccountChange})),s.a.createElement(Ie.a.Field,{width:5,className:"mobile-with-margin input-right no-label"},s.a.createElement(Fe.a,{required:!0,type:"number",min:G.minAmount(e.currency),step:G.minAmount(e.currency),value:e.amount,onChange:e.onAmountChange,labelPosition:"right",label:1===e.currencyOptions.length?e.currencyOptions[0].text:s.a.createElement(Me.a,{options:e.currencyOptions,value:e.currency,onChange:e.onCurrencyChange})})))},at=(n(479),ce.Expense,ce.Transfer),rt=ce.Income,ct=function(){return s.a.createElement("div",{className:"transactions-form__empty"},"You don't have any accounts.")},ot=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={searchQuery:""},n.onSubmit=function(e){e.preventDefault(),n.props.saveTransaction(qe(n.props.form))},n.onChange=function(e){return function(t,n){var a=n.value;return e(a)}},n.onAccountChange=function(e){return function(t,a){var r=a.value;e({accountId:r,currency:n.props.accountCurrency[r]})}},n.onTagAdd=function(e,t){var a=t.value;n.props.addTag({kind:n.props.form.kind,tag:a})},n.onTagSearchChange=function(e,t){var a=t.searchQuery;return n.setState({searchQuery:a})},n.onTagClose=function(){return n.setState({searchQuery:""})},n.getCurrencyOptions=function(e){return n.props.accountCurrency[e].map(function(e){return{key:e,value:e,text:e}})},n.getGridClassName=function(){return n.props.form.kind===at?"transaction-form-grid single-line":"transaction-form-grid"},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.form.accountId?s.a.createElement(s.a.Fragment,null,s.a.createElement(tt,{withTransfer:!!this.props.form.linkedAccountId,activeKind:this.props.form.kind,changeKind:this.props.changeKind}),s.a.createElement(De.a,{attached:"bottom"},s.a.createElement(Ie.a,{onSubmit:this.onSubmit,className:"transaction-form"},s.a.createElement(nt,{label:this.props.form.kind===rt?"To":"From",accountId:this.props.form.accountId,amount:this.props.form.amount,currency:this.props.form.currency,accountOptions:this.props.accountOptions,currencyOptions:this.getCurrencyOptions(this.props.form.accountId),onAccountChange:this.onAccountChange(this.props.changeAccount),onAmountChange:this.onChange(this.props.changeAmount),onCurrencyChange:this.onChange(this.props.changeCurrency)}),this.props.form.kind===at&&s.a.createElement(nt,{label:"To",accountId:this.props.form.linkedAccountId,amount:this.props.form.linkedAmount,currency:this.props.form.linkedCurrency,accountOptions:this.props.accountOptions,currencyOptions:this.getCurrencyOptions(this.props.form.linkedAccountId),onAccountChange:this.onAccountChange(this.props.changeLinkedAccount),onAmountChange:this.onChange(this.props.changeLinkedAmount),onCurrencyChange:this.onChange(this.props.changeLinkedCurrency)}),s.a.createElement("div",{className:this.getGridClassName()},s.a.createElement("div",{className:"transaction-form-grid__column-wide"},this.props.form.kind!==at&&s.a.createElement("div",{className:"transaction-form-grid__field"},s.a.createElement(Ie.a.Field,null,s.a.createElement("label",null,"Tags"),s.a.createElement(Me.a,{multiple:!0,selection:!0,search:!0,allowAdditions:!0,closeOnChange:!0,placeholder:"Choose existing tags or add new",value:this.props.form.tags[this.props.form.kind],options:this.props.tagsOptions,onChange:this.onChange(this.props.changeTags),onAddItem:this.onTagAdd,onClose:this.onTagClose,onSearchChange:this.onTagSearchChange,searchQuery:this.state.searchQuery}))),s.a.createElement("div",{className:"transaction-form-grid__field"},s.a.createElement(Ie.a.Field,null,s.a.createElement(Fe.a,{placeholder:"Note",value:this.props.form.note,onChange:this.onChange(this.props.changeNote)})))),s.a.createElement("div",{className:"transaction-form-grid__column-narrow"},s.a.createElement("div",{className:"transaction-form-grid__field"},s.a.createElement(Ie.a.Field,null,s.a.createElement(Fe.a,{required:!0,fluid:!0,type:"date",value:this.props.form.date,onChange:this.onChange(this.props.changeDate)}))),s.a.createElement("div",{className:"transaction-form-grid__field"},s.a.createElement(Te.a,{primary:!0,fluid:!0,disabled:0===parseFloat(this.props.form.amount)},this.props.form.id?"Save":"Add"," ",$e(this.props.form.kind)))))))):s.a.createElement(ct,null)}}]),t}(s.a.Component),it=function(e){return e.entities.tags[e.ui.form.transaction.kind].map(function(e){return{key:e,value:e,text:e}})},st=function(e){return Object(m.a)(new Set([].concat(Object(m.a)(e.entities.tags[ce.Expense]),Object(m.a)(e.entities.tags[ce.Income])))).map(function(e){return{key:e,value:e,text:e}})},ut=Object(R.a)("LOAD_FILTER_TRANSACTIONS","LOAD_FILTER_TRANSACTIONS_SUCCESS","LOAD_RECENT_TRANSACTIONS","LOAD_RECENT_TRANSACTIONS_SUCCESS","SAVE_TRANSACTION","SAVE_TRANSACTION_SUCCESS","REMOVE_TRANSACTION","REMOVE_TRANSACTION_SUCCESS"),lt=ut.loadFilterTransactions,pt=ut.loadFilterTransactionsSuccess,dt=ut.loadRecentTransactions,mt=ut.loadRecentTransactionsSuccess,bt=ut.saveTransaction,ft=ut.saveTransactionSuccess,ht=ut.removeTransaction,gt=ut.removeTransactionSuccess,Ot=Object(R.a)("LOAD_TAGS","LOAD_EXPENSE_TAGS_SUCCESS","LOAD_INCOME_TAGS_SUCCESS"),yt=Ot.loadTags,vt=Ot.loadExpenseTagsSuccess,jt=Ot.loadIncomeTagsSuccess,Et=Object(R.a)("FILL_IN_TRANSACTION_FORM","RESET_TRANSACTION_FORM","OPEN_TRANSACTION_IN_MODAL","CHANGE_KIND","CHANGE_ACCOUNT","CHANGE_AMOUNT","CHANGE_CURRENCY","CHANGE_LINKED_ACCOUNT","CHANGE_LINKED_AMOUNT","CHANGE_LINKED_CURRENCY","CHANGE_DATE","ADD_TAG","CHANGE_TAGS","CHANGE_NOTE"),xt=Et.fillInTransactionForm,Ct=Et.resetTransactionForm,kt=Et.openTransactionInModal,At=Et.changeKind,St=Et.changeAccount,Tt=Et.changeAmount,wt=Et.changeCurrency,Rt=Et.changeLinkedAccount,Nt=Et.changeLinkedAmount,_t=Et.changeLinkedCurrency,Dt=Et.changeDate,It=Et.addTag,Mt=Et.changeTags,Ft=Et.changeNote,Lt=Object(d.b)(function(e){return{form:e.ui.form.transaction,accountCurrency:he(e),accountOptions:je(e),tagsOptions:it(e)}},{changeKind:At,changeAccount:St,changeAmount:Tt,changeCurrency:wt,changeLinkedAccount:Rt,changeLinkedAmount:Nt,changeLinkedCurrency:_t,changeDate:Dt,changeNote:Ft,addTag:It,changeTags:Mt,loadTags:yt,saveTransaction:bt})(ot),Pt=n(130),Ut=(ce.Expense,ce.Transfer),Gt=ce.Income,Bt=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleEditClick=function(){n.props.openTransactionInModal(function(e){var t;return Object(b.a)({},e,{amount:G.centsToString(e.amount*(e.kind===Ke?-1:1),e.currency,!1),linkedAmount:e.kind===Ye&&e.linkedAmount&&e.linkedCurrency?G.centsToString(e.linkedAmount,e.linkedCurrency,!1):void 0,note:e.note||"",tags:(t={},Object(q.a)(t,Ke,[]),Object(q.a)(t,We,[]),Object(q.a)(t,e.kind,e.tags||[]),t),date:Pe()(Be(e.date),"YYYY-MM-DD")})}(n.props.transaction))},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.transaction;return s.a.createElement("div",{className:"transaction-item"},s.a.createElement("div",{className:"transaction-item__info"},e.accountName,this.renderArrow(),e.kind===Ut&&e.linkedAccountName,e.tags&&e.tags.map(function(e){return s.a.createElement(Pt.a,{key:e,content:e})}),s.a.createElement("span",{className:"transaction-item__info__note"},e.note)),s.a.createElement("div",{className:"transaction-item__amount"},s.a.createElement(ke,{value:e.amount,code:e.currency,showColor:e.kind!==Ut}),e.kind===Ut&&this.renderLinkedAmount()),s.a.createElement("div",{className:"transaction-item__edit"},s.a.createElement(Te.a,{circular:!0,basic:!0,icon:"pencil",onClick:this.handleEditClick,disabled:e.archived})))}},{key:"renderArrow",value:function(){var e=this.props.transaction,t=e.kind,n=e.tags,a=e.note;if(t===Ut||n||a)return s.a.createElement(w.a,{color:"grey",name:t===Gt?"arrow left":"arrow right"})}},{key:"renderLinkedAmount",value:function(){var e=this.props.transaction,t=e.linkedAmount,n=e.linkedCurrency,a=e.currency;if(n&&n!==a)return s.a.createElement("span",null,s.a.createElement(w.a,{color:"grey",name:"arrow right"}),s.a.createElement(ke,{value:t,code:n,showColor:!1}))}}]),t}(s.a.Component),Kt=n(598),Yt=n(608),Wt=function(e){return s.a.createElement(Kt.a,{closeIcon:!0,size:"small",className:"transaction",open:e.isOpen,onClose:e.resetTransactionForm},s.a.createElement(Yt.a,{icon:"file text outline",content:e.isEdit?"Edit Transaction":"New Transaction"}),s.a.createElement(Kt.a.Content,null,s.a.createElement(e.EditForm,null)),e.isEdit&&s.a.createElement(Kt.a.Actions,null,s.a.createElement(Te.a,{negative:!0,icon:"trash",content:"Delete",labelPosition:"right",onClick:function(){return e.removeTransaction(e.currentTransactionId)}})))},Ht=(n(529),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).renderTransaction=function(e){return s.a.createElement(Bt,{key:e.id,transaction:e,openTransactionInModal:n.props.openTransactionInModal})},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(De.a,{className:"transactions-list__wrapper"},s.a.createElement(C.a,{inverted:!0,active:this.props.isLoading},s.a.createElement(k.a,{active:!0,inline:"centered"})),this.props.transactions.length>0?this.props.transactions.map(this.renderTransaction):s.a.createElement("div",{className:"transactions-list__empty"},"No transactions found."),s.a.createElement(Wt,{currentTransactionId:this.props.currentTransactionId,EditForm:this.props.EditForm,isOpen:this.props.isModalOpen,isEdit:this.props.isEdit,resetTransactionForm:this.props.resetTransactionForm,removeTransaction:this.props.removeTransaction}))}}]),t}(s.a.Component)),zt=function(e){var t=Be(e.ui.transaction.filter.dateStart),n=Be(e.ui.transaction.filter.dateEnd);return Pe()(t,"DD MMM")!==Pe()(n,"DD MMM")?"".concat(Pe()(t,"DD MMM")," \u2014 ").concat(Pe()(n,"DD MMM")):Pe()(t,"MMMM, Do")},Vt=function(e){return{date:{start:e.ui.transaction.filter.dateStart,end:e.ui.transaction.filter.dateEnd},accounts:new Set(e.ui.transaction.filter.applied.accounts),tags:e.ui.transaction.filter.applied.tags||[]}},$t=function(e){return e.ui.transaction.filter.page},qt=Object(V.createSelector)($t,function(e){return Math.ceil(e.ui.transaction.filter.totalRows/e.ui.transaction.filter.perPage)},function(e){return e.ui.isMobile?5:9},function(e,t,n){for(var a=[],r=Math.max(0,t-e-Math.ceil(n/2)),c=t>n?Math.max(n,t-r):t,o=Math.max(0,c-n);o<c;o++)a.push(o);return a}),Qt=function(e){return e.entities.transactions.filter},Zt=Object(V.createSelector)(function(e){return e.entities.transactions.recent},le,function(e,t){return se.map(e,function(e){return Xt(e,t)},Ve)}),Jt=Object(V.createSelector)(Qt,$t,le,function(e,t,n){return se.map(e,function(e){return Xt(e,n)},10,10*t)});function Xt(e,t){var n=se.get(t,e.accountId),a=se.get(t,e.linkedAccountId);return Object(b.a)({},e,{archived:n.archived||a.archived,accountName:n.name,linkedAccountName:a.name})}var en=function(e){return Object(V.createSelector)(Qt,K,B,function(t,n,a){return se.filter(t,function(t){return t.kind===e}).reduce(function(e,t){return Math.floor(e+G.convert(t.amount,a[t.currency],n,t.currency))},0)})},tn=ce.Expense,nn=ce.Income,an=function(e){return e.ui.form.transaction},rn=Object(V.createSelector)(je,function(e){return e.length>0&&e[0].key}),cn=Object(V.createSelector)(rn,he,K,function(e,t,n){return e&&(t[e].includes(n)?n:t[e][0])}),on=Object(V.createSelector)(je,rn,he,function(e,t,n){return e.length>1?e[1].key:t&&n[t].length>1&&t}),sn=Object(V.createSelector)(rn,on,he,K,function(e,t,n,a){return e&&e===t?n[e][1]:t&&(n[t].includes(a)?a:n[t][0])}),un=Object(V.createSelector)(rn,cn,on,sn,function(e,t,n,a){var r;return{kind:ze,isModalOpen:!1,accountId:e||null,currency:t||null,amount:"",linkedAccountId:n||null,linkedCurrency:a||null,linkedAmount:"",tags:(r={},Object(q.a)(r,tn,[]),Object(q.a)(r,nn,[]),r),date:Pe()(new Date,"YYYY-MM-DD"),note:""}}),ln=Object(d.b)(function(e){return{currentTransactionId:an(e).id,transactions:Zt(e),isModalOpen:an(e).isModalOpen,isEdit:void 0!==an(e).id,EditForm:Lt}},{openTransactionInModal:kt,resetTransactionForm:Ct,removeTransaction:ht})(Ht),pn=Object(R.a)("LOAD_ACCOUNTS","LOAD_ACCOUNTS_SUCCESS","SAVE_ACCOUNT","SAVE_ACCOUNT_FAILURE","SAVE_ACCOUNT_SUCCESS","UPDATE_ACCOUNT","REMOVE_ACCOUNT","REMOVE_ACCOUNT_REQUEST","REMOVE_ACCOUNT_START","REMOVE_ACCOUNT_ITEM_PROCESSED","REMOVE_ACCOUNT_FAILURE","REMOVE_ACCOUNT_SUCCESS"),dn=pn.loadAccounts,mn=pn.loadAccountsSuccess,bn=pn.saveAccount,fn=pn.saveAccountFailure,hn=pn.saveAccountSuccess,gn=pn.updateAccount,On=pn.removeAccount,yn=pn.removeAccountRequest,vn=pn.removeAccountStart,jn=pn.removeAccountItemProcessed,En=pn.removeAccountFailure,xn=pn.removeAccountSuccess,Cn=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.loadTags(),this.props.loadAccounts(),this.props.loadRecentTransactions()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-full-page"},s.a.createElement(T.a,null,s.a.createElement(T.a.Row,null,s.a.createElement(T.a.Column,{computer:6,mobile:16},s.a.createElement(z,{name:"net_worth",label:"Net Worth",LabelComponent:Ae},s.a.createElement(_e,null))),s.a.createElement(T.a.Column,{computer:10,mobile:16},s.a.createElement(z,{name:"add_tx",label:"New Transaction"},s.a.createElement(Lt,null)),s.a.createElement(z,{name:"recent_tx",label:"Recent Transactions"},s.a.createElement(ln,null))))))}}]),t}(s.a.Component),kn=Object(d.b)(void 0,{loadTags:yt,loadAccounts:dn,loadRecentTransactions:dt})(Cn),An=Object(d.b)(function(e){return{currentTransactionId:an(e).id,isLoading:e.ui.transaction.filter.isLoading,transactions:Jt(e),isModalOpen:an(e).isModalOpen,isEdit:void 0!==an(e).id,EditForm:Lt}},{openTransactionInModal:kt,resetTransactionForm:Ct,removeTransaction:ht})(Ht),Sn=n(221),Tn=n.n(Sn),wn=(n(536),(new Date).getFullYear()),Rn=new Date(wn-8,0),Nn=new Date(wn+2,11);function _n(e){for(var t=e.date,n=e.localeUtils,a=e.onChange,r=n.getMonths(),c=[],o=Rn.getFullYear();o<=Nn.getFullYear();o+=1)c.push(o);var i=function(e){var t=e.target.form,n=t.year,r=t.month;a(new Date(n.value,r.value))};return s.a.createElement("form",{className:"DayPicker-Caption"},s.a.createElement("select",{name:"month",onChange:i,value:t.getMonth()},r.map(function(e,t){return s.a.createElement("option",{key:t,value:t},e)})),s.a.createElement("select",{name:"year",onChange:i,value:t.getFullYear()},c.map(function(e,t){return s.a.createElement("option",{key:t,value:e},e)})))}var Dn,In,Mn=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={month:null,from:null,to:null},n.handleDayClick=function(e){var t=Sn.DateUtils.addDayToRange(e,n.state);n.setState(t)},n.handleYearMonthChange=function(e){n.setState({month:e})},n.handleResetClick=function(){n.setState({month:null,from:null,to:null})},n.handleApplyClick=function(){var e=n.state,t=e.from,a=e.to;n.props.changeFilterDate({dateStart:t.setHours(0,0,0),dateEnd:a&&a.setHours(23,59,59)||t.setHours(23,59,59)}),n.props.toggleFilterCalendar()},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state,t=e.month,n=e.from,a=e.to;return s.a.createElement(Kt.a,{open:this.props.isCalendarOpen,onClose:this.props.toggleFilterCalendar,className:"transactions-filter-modal",closeIcon:!0,size:"small"},s.a.createElement(Kt.a.Header,null,"Show transactions in range"),s.a.createElement(Kt.a.Content,null,s.a.createElement(Tn.a,{className:"Range",fixedWeeks:!0,enableOutsideDays:!0,numberOfMonths:this.props.isMobile?1:2,selectedDays:[n,{from:n,to:a}],month:t,captionElement:s.a.createElement(_n,{onChange:this.handleYearMonthChange}),onDayClick:this.handleDayClick})),s.a.createElement(Kt.a.Actions,null,s.a.createElement(Te.a,{content:"Reset",onClick:this.handleResetClick}),s.a.createElement(Te.a,{content:"Apply",onClick:this.handleApplyClick,positive:!0,disabled:null===this.state.from&&null===this.state.to})))}}]),t}(s.a.Component),Fn=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).handleAccountChange=function(e,t){var a=t.value;return n.setState({accounts:a})},n.handleTagsChange=function(e,t){var a=t.value;return n.setState({tags:a})},n.handleResetClick=function(){n.setState({accounts:[],tags:[]})},n.handleApplyClick=function(){n.props.applyFilters(n.state),n.props.toggleFilterModal()},n.state={accounts:n.props.appliedAccounts,tags:n.props.appliedTags},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.appliedAccounts,n=e.appliedTags;this.setState({accounts:t,tags:n})}},{key:"render",value:function(){return s.a.createElement(Kt.a,{open:this.props.isFilterModalOpen,onClose:this.props.toggleFilterModal,closeIcon:!0,size:"tiny"},s.a.createElement(Kt.a.Header,null,"Filter transactions"),s.a.createElement(Kt.a.Content,null,s.a.createElement(Ie.a,null,s.a.createElement(Ie.a.Group,{widths:"equal"},s.a.createElement(Ie.a.Field,null,s.a.createElement("label",null,"Account"),s.a.createElement(Me.a,{multiple:!0,selection:!0,search:!0,closeOnChange:!0,onChange:this.handleAccountChange,options:this.props.accountOptions,value:this.state.accounts}))),s.a.createElement(Ie.a.Group,{widths:"equal"},s.a.createElement(Ie.a.Field,null,s.a.createElement("label",null,"Tags"),s.a.createElement(Me.a,{multiple:!0,selection:!0,search:!0,closeOnChange:!0,onChange:this.handleTagsChange,options:this.props.tagsOptions,value:this.state.tags}))))),s.a.createElement(Kt.a.Actions,null,s.a.createElement(Te.a,{content:"Reset",onClick:this.handleResetClick}),s.a.createElement(Te.a,{content:"Apply",onClick:this.handleApplyClick,positive:!0})))}}]),t}(s.a.Component),Ln=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).removeAppliedAccount=function(e){return function(){n.props.applyFilters({accounts:n.props.appliedAccounts.filter(function(t){return t!==e}),tags:n.props.appliedTags})}},n.removeAppliedTag=function(e){return function(){n.props.applyFilters({accounts:n.props.appliedAccounts,tags:n.props.appliedTags.filter(function(t){return t!==e})})}},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return 0===this.props.appliedAccounts.length&&0===this.props.appliedTags.length?null:s.a.createElement("div",{className:"transactions-filters-applied"},this.props.appliedAccounts.map(function(t){return s.a.createElement(Pt.a,{key:t,content:e.props.accountNameMap[t],icon:"credit card",onRemove:e.removeAppliedAccount(t)})}),this.props.appliedTags.map(function(t){return s.a.createElement(Pt.a,{key:t,content:t,icon:"tag",onRemove:e.removeAppliedTag(t)})}))}}]),t}(s.a.Component),Pn=n(319),Un=n.n(Pn),Gn=n(174),Bn=n.n(Gn),Kn=n(116),Yn=n.n(Kn),Wn=n(320),Hn=n.n(Wn),zn=n(321),Vn=n.n(zn),$n=n(170),qn=n.n($n);function Qn(e){return function(){return Un()(Bn()(),e)}}!function(e){e[e.today=0]="today",e[e.yesterday=1]="yesterday",e[e.lastWeek=2]="lastWeek",e[e.lastMonth=3]="lastMonth",e[e.thisMonth=4]="thisMonth",e[e.custom=5]="custom"}(In||(In={}));var Zn=Qn(7),Jn=Qn(30),Xn=(Dn={},Object(q.a)(Dn,In.today,{text:"Today",start:Bn.a,end:Yn.a}),Object(q.a)(Dn,In.yesterday,{text:"Yesterday",start:Hn.a,end:Vn.a}),Object(q.a)(Dn,In.lastWeek,{text:"Last 7 days",start:Zn,end:Yn.a}),Object(q.a)(Dn,In.lastMonth,{text:"Last 30 days",start:Jn,end:Yn.a}),Object(q.a)(Dn,In.thisMonth,{text:"This month",start:function(){var e=new Date;return qn()(e)},end:Yn.a}),Object(q.a)(Dn,In.custom,{text:"Custom date",start:Bn.a,end:Yn.a}),Dn),ea=In.lastWeek,ta=Xn[ea].start,na=Xn[ea].end;function aa(e){return Xn[e].end()}n(539);var ra=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).options=Object.entries(Xn).map(function(e){var t=Object($.a)(e,2),n=t[0],a=t[1].text;return{key:n,value:parseInt(n),text:a}}),n.lastValue=ea,n.handleDateRange=function(e,t){var a,r=t.value;r!==n.lastValue&&(r===In.custom?n.props.toggleFilterCalendar():(n.props.changeFilterDate({dateStart:(a=r,Xn[a].start()),dateEnd:aa(r)}),n.lastValue=r))},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container-header"},s.a.createElement(Te.a.Group,{basic:!0,fluid:!0},s.a.createElement(Te.a,{icon:"plus",labelPosition:"left",content:"New",onClick:function(){return e.props.openTransactionInModal()}}),s.a.createElement(Me.a,{button:!0,className:"icon",options:this.options,defaultValue:ea,onChange:this.handleDateRange,text:this.props.dateRangeLabel,labeled:!0,icon:"calendar"}),s.a.createElement(Te.a,{icon:"filter",onClick:this.props.toggleFilterModal})),s.a.createElement(Mn,this.props),s.a.createElement(Fn,this.props)),s.a.createElement(Ln,this.props))}}]),t}(s.a.Component),ca=Object(R.a)("CHANGE_FILTER_DATE","TOGGLE_FILTER_CALENDAR","CHANGE_FILTER_PAGE","TOGGLE_FILTER_MODAL","APPLY_FILTERS"),oa=ca.changeFilterDate,ia=ca.toggleFilterCalendar,sa=ca.changeFilterPage,ua=ca.toggleFilterModal,la=ca.applyFilters,pa=Object(d.b)(function(e){return{isMobile:e.ui.isMobile,dateRangeLabel:zt(e),isCalendarOpen:e.ui.transaction.filter.isCalendarOpen,isFilterModalOpen:e.ui.transaction.filter.isFilterModalOpen,accountOptions:je(e),accountNameMap:fe(e),appliedAccounts:e.ui.transaction.filter.applied.accounts||[],tagsOptions:st(e),appliedTags:e.ui.transaction.filter.applied.tags||[]}},{changeFilterDate:oa,toggleFilterCalendar:ia,toggleFilterModal:ua,applyFilters:la,openTransactionInModal:kt})(ra),da=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handlePageChange=function(e){return function(){return n.props.changeFilterPage(e)}},n.handlePrevClick=function(){n.props.page>0&&n.props.changeFilterPage(n.props.page-1)},n.handleNextClick=function(){var e=n.props.pages[n.props.pages.length-1];n.props.page<e&&n.props.changeFilterPage(n.props.page+1)},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return this.props.pages.length<2?null:s.a.createElement("div",{className:"transactions-list-pager"},s.a.createElement(et.a,{pagination:!0},s.a.createElement(et.a.Item,{as:"a",icon:!0,onClick:this.handlePrevClick},s.a.createElement(w.a,{name:"left chevron"})),this.props.pages.map(function(t){return s.a.createElement(et.a.Item,{as:"a",key:t,active:t===e.props.page,onClick:e.handlePageChange(t)},t+1)}),s.a.createElement(et.a.Item,{as:"a",icon:!0,onClick:this.handleNextClick},s.a.createElement(w.a,{name:"right chevron"}))))}}]),t}(s.a.Component),ma=Object(d.b)(function(e){return{page:$t(e),pages:qt(e)}},{changeFilterPage:sa})(da),ba=n(601),fa=function(e){var t=e.base,n=e.income,a=e.expense;return s.a.createElement("div",{className:"transactions-list-footer"},s.a.createElement(ba.a,{fixed:!0,basic:"very",unstackable:!0},s.a.createElement(ba.a.Body,null,s.a.createElement(ba.a.Row,null,s.a.createElement(ba.a.Cell,null,"Total income"),s.a.createElement(ba.a.Cell,{textAlign:"right"},s.a.createElement(ke,{code:t,value:n}))),s.a.createElement(ba.a.Row,null,s.a.createElement(ba.a.Cell,null,"Total expense"),s.a.createElement(ba.a.Cell,{textAlign:"right"},s.a.createElement(ke,{code:t,value:a}))),s.a.createElement(ba.a.Row,null,s.a.createElement(ba.a.Cell,null),s.a.createElement(ba.a.Cell,{textAlign:"right"},s.a.createElement(ke,{code:t,value:n+a}))))))},ha=Object(d.b)(function(e){return{base:K(e),income:en(ce.Income)(e),expense:en(ce.Expense)(e)}})(fa),ga=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).props.applyFilters({accounts:e.match.params.accountId?[e.match.params.accountId]:[]}),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.loadAccounts(),this.props.loadTags(),this.props.loadFilterTransactions()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-full-page flat search-page"},s.a.createElement(pa,null),s.a.createElement(An,null),s.a.createElement(ma,null),s.a.createElement(ha,null))}}]),t}(s.a.Component),Oa=Object(d.b)(void 0,{loadAccounts:dn,loadTags:yt,loadFilterTransactions:lt,applyFilters:la})(ga),ya=Object(R.a)("FILL_IN_ACCOUNT_FORM","RESET_ACCOUNT_FORM","OPEN_ACCOUNT_IN_MODAL","CHANGE_NAME","CHANGE_GROUP","CHANGE_BALANCE","CHANGE_DEBT","TOGGLE_CURRENCY","TOGGLE_ON_DASHBOARD"),va=ya.fillInAccountForm,ja=ya.resetAccountForm,Ea=ya.openAccountInModal,xa=ya.changeName,Ca=ya.changeGroup,ka=ya.changeBalance,Aa=ya.changeDebt,Sa=ya.toggleCurrency,Ta=ya.toggleOnDashboard,wa=function(e){return e.ui.form.account},Ra=function(e){return{isOpen:e.ui.form.account.isModalOpen,isDeleteRequest:e.ui.form.account.isDeleteRequest,isDeleteRunning:e.ui.form.account.isDeleteRunning,itemsToProcess:e.ui.form.account.itemsToProcess,itemsProcessed:e.ui.form.account.itemsProcessed}},Na=n(592),_a=n(595),Da=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={strategy:J},n.onStrategyChange=function(e,t){var a=t.value;n.setState(Object(b.a)({},n.state,{strategy:a}))},n.onAccountChange=function(e,t){var a=t.value;n.setState(Object(b.a)({},n.state,{moveTo:a}))},n.onProceed=function(){n.props.removeAccount({id:n.props.form.id,strategy:n.state.strategy,moveTo:n.getMoveTo()})},n.getMoveTo=function(){return n.state.moveTo||n.props.accountOptions.length&&n.props.accountOptions[0].key},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.accountOptions.length>0;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,'You are about to delete account "',this.props.form.name,'"'),s.a.createElement("p",{style:{marginTop:"1em"}},"What should we do with transactions linked to this account?"),s.a.createElement(Ie.a,null,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[{key:c.Archive,value:c.Archive,text:"Archive account, keep transactions as is"},{key:c.Cleanup,value:c.Cleanup,text:"Delete transactions with account"}];return e&&t.push({key:c.Move,value:c.Move,text:"Move transactions to another account"}),t}(t).map(function(t){return s.a.createElement(Ie.a.Field,{key:t.key},s.a.createElement(Na.a,{name:"deleteStrategy",label:t.text,value:t.value,checked:e.state.strategy===t.value,onChange:e.onStrategyChange,disabled:e.props.modal.isDeleteRunning}))}),t&&this.state.strategy===c.Move&&s.a.createElement(Ie.a.Field,null,s.a.createElement(Me.a,{selection:!0,value:this.getMoveTo(),options:this.props.accountOptions,onChange:this.onAccountChange,disabled:this.props.modal.isDeleteRunning})),s.a.createElement(Ie.a.Field,null,this.props.modal.isDeleteRunning?s.a.createElement(_a.a,{value:this.props.modal.itemsProcessed,total:this.props.modal.itemsToProcess}):s.a.createElement(Te.a,{negative:!0,labelPosition:"right",icon:"arrow right",content:"Proceed",onClick:this.onProceed}))))}}]),t}(s.a.Component),Ia=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).reset=function(){if(n.props.modal.isDeleteRunning)return!1;n.props.resetAccountForm()},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(Kt.a,{closeIcon:!0,size:"small",className:"account-form",open:this.props.modal.isOpen,onClose:this.reset},s.a.createElement(Yt.a,{icon:"file text outline",content:this.props.isEdit?"Edit Account":"New Account"}),s.a.createElement(Kt.a.Content,null,this.props.modal.isDeleteRequest?s.a.createElement(Da,this.props):s.a.createElement(this.props.EditForm,null)),s.a.createElement(Kt.a.Actions,null,this.renderModalActions()))}},{key:"renderModalActions",value:function(){if(this.props.isEdit)return this.props.modal.isDeleteRequest?s.a.createElement(Te.a,{labelPosition:"left",disabled:this.props.modal.isDeleteRunning,onClick:this.props.removeAccountRequest,content:"Cancel",icon:"cancel"}):s.a.createElement(Te.a,{negative:!0,labelPosition:"right",onClick:this.props.removeAccountRequest,content:"Delete",icon:"trash"})}}]),t}(s.a.Component),Ma=Object(d.b)(function(e,t){return Object(b.a)({},t,{baseCurrency:K(e),collapsedGroups:H(e),groups:ye(e)})},{toggleSectionCollapse:L,openAccountInModal:Ea})(Ne),Fa=n(581),La=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleCurrencyChange=function(e,t){var a=t.value;n.props.toggleCurrency(a)},n.handleBalanceChange=function(e){return function(t,a){var r=a.value;n.props.changeBalance({code:e,balance:r})}},n.handleDebtChange=function(e){return function(t,a){var r=a.value;n.props.changeDebt({code:e,debt:r})}},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.updateCurrencyList(this.props.base,this.props.secondary),this.setInitialCurrencyCheckbox(this.props.base)}},{key:"componentWillReceiveProps",value:function(e){this.updateCurrencyList(e.base,e.secondary),this.setInitialCurrencyCheckbox(e.base)}},{key:"updateCurrencyList",value:function(e,t){this.currencies=[e].concat(Object(m.a)(t))}},{key:"setInitialCurrencyCheckbox",value:function(e){0===this.props.form.currencies.length&&this.props.toggleCurrency(e)}},{key:"render",value:function(){var e=this;return this.currencies.map(function(t){var n=e.props.form,a=e.props.form,c=a.balance,o=a.debt;return s.a.createElement(Ie.a.Group,{unstackable:!0,key:t,style:{marginBottom:"1em",marginTop:"1em"}},s.a.createElement(Ie.a.Field,{className:"checkbox",width:9},s.a.createElement(Fa.a,{value:t,label:G.name(t),checked:e.props.form.currencies.includes(t),onChange:e.handleCurrencyChange})),s.a.createElement(Ie.a.Group,{className:"input-right"},e.props.form.id?s.a.createElement(s.a.Fragment,null,s.a.createElement(ke,{code:t,value:G.numberToCents(c[t]||0,t)}),"(form.group === AccountGroupT.Asset) && ",s.a.createElement(ke,{code:t,value:G.numberToCents(o[t]||0,t)})):s.a.createElement(s.a.Fragment,null,n.group===r.Asset&&s.a.createElement(Fe.a,{className:"debt-input",type:"number",placeholder:"Debt",step:G.minAmount(t),value:o[t]||"",onChange:e.handleDebtChange(t)}),s.a.createElement(Fe.a,{className:n.group===r.Asset?"value-input-small":"",type:"number",placeholder:"Balance",labelPosition:"right",label:t,step:G.minAmount(t),value:c[t]||"",onChange:e.handleBalanceChange(t)}))))})}}]),t}(s.a.Component),Pa=(n(541),function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).handleNameChange=function(e,t){var a=t.value;return n.props.changeName(a)},n.handleGroupChange=function(e,t){var a=t.value;return n.props.changeGroup(a)},n.handleSubmit=function(e){e.preventDefault(),n.props.saveAccount(ee(n.props.form))},n.groups=Object.entries(Q).map(function(e){var t=Object($.a)(e,2),n=t[0];return{key:n,value:n,text:t[1]}}),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(Ie.a,{className:"account-form",onSubmit:this.handleSubmit},s.a.createElement(Ie.a.Group,null,s.a.createElement(Ie.a.Input,{width:9,required:!0,label:"Name",placeholder:"Account name",value:this.props.form.name,onChange:this.handleNameChange}),s.a.createElement(Ie.a.Select,{width:7,label:"Group",value:this.props.form.group,options:this.groups,onChange:this.handleGroupChange})),s.a.createElement(La,this.props),s.a.createElement(Ie.a.Group,{unstackable:!0},s.a.createElement(Ie.a.Field,{width:9,style:{paddingTop:"0.5em"}},s.a.createElement(Fa.a,{label:"Show on Dashboard",checked:this.props.form.on_dashboard,onChange:this.props.toggleOnDashboard})),s.a.createElement(Ie.a.Button,{width:7,primary:!0,fluid:!0,content:"Save Account"})))}}]),t}(s.a.Component)),Ua=Object(d.b)(function(e){return{form:wa(e),base:K(e),secondary:W(e)}},{changeName:xa,changeGroup:Ca,changeBalance:ka,changeDebt:Aa,toggleCurrency:Sa,toggleOnDashboard:Ta,saveAccount:bn,removeAccount:On})(Pa),Ga=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.props.loadAccounts()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-full-page flat"},s.a.createElement("div",{className:"container-header"},s.a.createElement(Te.a.Group,{basic:!0},s.a.createElement(Te.a,{icon:"plus",labelPosition:"left",content:"New",onClick:this.props.openAccountInModal}))),s.a.createElement("div",{className:"accounts-list-wrapper"},s.a.createElement(Ma,null)),s.a.createElement(Ia,this.props))}}]),t}(s.a.Component),Ba=Object(d.b)(function(e){return{form:wa(e),modal:Ra(e),isEdit:void 0!==wa(e).id,accountOptions:je(e).filter(function(t){return t.key!==wa(e).id}),EditForm:Ua}},{loadAccounts:dn,openAccountInModal:Ea,resetAccountForm:ja,removeAccountRequest:yn,removeAccount:On})(Ga),Ka=Object(R.a)("CHANGE_REPORT_KIND","CHANGE_REPORT_TIMESPAN","CHANGE_REPORT_ACCOUNTS","MOVE_REPORT_DATE_BACKWARDS","MOVE_REPORT_DATE_FORWARDS","LOAD_REPORT","LOAD_REPORT_SUCCESS","LOAD_REPORT_FAILURE"),Ya=Ka.changeReportKind,Wa=Ka.changeReportTimespan,Ha=Ka.changeReportAccounts,za=Ka.moveReportDateBackwards,Va=Ka.moveReportDateForwards,$a=Ka.loadReport,qa=Ka.loadReportSuccess,Qa=Ka.loadReportFailure,Za=n(161),Ja=n.n(Za),Xa=n(216),er=n.n(Xa),tr=n(324),nr=n.n(tr),ar=n(325),rr=n.n(ar),cr=n(215),or=n.n(cr),ir=n(326),sr=n.n(ir),ur=n(327),lr=n.n(ur),pr=n(128),dr=n.n(pr),mr=n(113),br=n.n(mr),fr=ce.Expense,hr=ce.Income;var gr,Or,yr,vr=ce.Expense,jr=ce.Income;!function(e){e.ExpenseIncome="expense_income",e.ExpenseTags="expense_tags",e.NetWorth="net_worth"}(Or||(Or={})),function(e){e.Yearly="yearly",e.Monthly="monthly"}(yr||(yr={}));var Er=yr.Yearly,xr=yr.Monthly,Cr=Or.ExpenseIncome,kr=Er;function Ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr;return Nr(new Date,e)}function Sr(e,t){var n=e.start;return Nr(t===Er?lr()(n,1):sr()(n,1),t)}function Tr(e,t){var n=e.start;return Nr(t===Er?er()(n,1):Ja()(n,1),t)}var wr=(gr={},Object(q.a)(gr,Or.ExpenseIncome,function(e,t,n,a){var r=e.timespan===yr.Yearly?br()(0,12).map(function(e){return Pe()((new Date).setMonth(e),"MMM")}):br()(1,dr()(e.date.start)+1).map(function(e){return"".concat(e).padStart(2,"0")}),c=[new Array(r.length).fill(0),new Array(r.length).fill(0)],o=!0,i=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var p=u.value;if(p.kind===fr||p.kind===hr){var d=Pe()(Ge(p.date),e.timespan===yr.Yearly?"M":"D");c[p.kind===hr?0:1][parseInt(d)-1]+=G.convert(Math.abs(p.amount),n[p.currency],a,p.currency)}}}catch(m){i=!0,s=m}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}return{labels:r,series:c.map(function(e){return e.map(function(e){return Math.floor(G.centsToNumber(e,a))})})}}),Object(q.a)(gr,Or.ExpenseTags,function(e,t,n,a){var r=new Map,c=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var l=s.value;if(l.kind===ce.Expense&&l.tags){var p=!0,d=!1,b=void 0;try{for(var f,h=l.tags[Symbol.iterator]();!(p=(f=h.next()).done);p=!0){var g=f.value,O=r.get(g)||0,y=G.convert(Math.abs(l.amount),n[l.currency],a,l.currency);r.set(g,O+y)}}catch(j){d=!0,b=j}finally{try{p||null==h.return||h.return()}finally{if(d)throw b}}}}}catch(j){o=!0,i=j}finally{try{c||null==u.return||u.return()}finally{if(o)throw i}}var v=new Map(Object(m.a)(r.entries()).sort(function(e,t){return t[1]-e[1]}));return{labels:Object(m.a)(v.keys()),series:[Object(m.a)(v.values()).map(function(e){return Math.floor(G.centsToNumber(e,a))})]}}),Object(q.a)(gr,Or.NetWorth,function(e,t,n,a,r){var c,o=e.timespan===yr.Yearly?br()(0,12).map(function(e){return Pe()((new Date).setMonth(e),"MMM")}):br()(1,dr()(e.date.start)+1).map(function(e){return"".concat(e).padStart(2,"0")}),i=[],s=!0,u=!1,l=void 0;try{for(var p,d=t[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var m=p.value;if(m.kind===vr||m.kind===jr){var b=parseInt(Pe()(Ge(m.date),e.timespan===yr.Yearly?"M":"D"))-1;b!==c&&(void 0===c&&(i[c=b+1]=r),i[b]=i[c]),c=b,i[b]-=G.convert(m.amount,n[m.currency],a,m.currency)}}}catch(f){u=!0,l=f}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}return c&&c>0&&(i[0]=i[c]),e.date.end<Date.now()&&i.length<o.length&&(i[o.length-1]=i[i.length-1]),{labels:o,series:[i.map(function(e){return Math.floor(G.centsToNumber(e,a))})],netWorthStart:i[0],netWorthEnd:r}}),gr),Rr=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return wr[e.kind].apply(wr,[e].concat(n))};function Nr(e,t){var n=t===Er?or.a:qn.a,a=t===Er?rr.a:nr.a,r=new Date(e);return r.setDate(r.getDate()+1),{start:Ge(n(r)),end:Ge(a(r))}}var _r=n(109),Dr=n.n(_r),Ir=n(79),Mr=n.n(Ir),Fr=n(110),Lr=n.n(Fr),Pr=(n(204),n(205),n(206),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e={axisY:{labelInterpolationFnc:function(e){return Lr()(e,2)}},plugins:[Mr.a.plugins.tooltip({class:"mono",currency:this.props.currency,anchorToPoint:!0})]};return s.a.createElement(Dr.a,{type:"Bar",className:"ct-octave mt-report-expense-income",data:this.props.data,options:e})}}]),t}(s.a.Component)),Ur=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e={axisY:{offset:70},axisX:{labelInterpolationFnc:function(e){return Lr()(e,2)}},reverseData:!0,horizontalBars:!0,plugins:[Mr.a.plugins.tooltip({class:"mono",currency:this.props.currency,anchorToPoint:!0})]};return s.a.createElement(Dr.a,{type:"Bar",className:"mt-report-expense-tags",style:{height:"".concat(3*this.props.data.labels.length,"em")},data:this.props.data,options:e})}}]),t}(s.a.Component),Gr=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e={showArea:!0,low:0,axisY:{labelInterpolationFnc:function(e){return Lr()(e,2)}},plugins:[Mr.a.plugins.tooltip({class:"mono",currency:this.props.currency,anchorToPoint:!0})]};return s.a.createElement(Dr.a,{type:"Line",className:"ct-octave mt-report-net-worth",data:this.props.data,options:e})}}]),t}(s.a.Component),Br=(n(544),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ct-octave mt-report"},s.a.createElement(k.a,{active:this.props.isLoading}),!this.props.isLoading&&this.renderReportByKind())}},{key:"renderReportByKind",value:function(){switch(this.props.kind){case Or.ExpenseIncome:return s.a.createElement(Pr,this.props);case Or.NetWorth:return s.a.createElement(Gr,this.props);case Or.ExpenseTags:return s.a.createElement(Ur,this.props);default:return"Not available"}}}]),t}(s.a.Component)),Kr=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleKindChange=function(e,t){var a=t.value;n.props.changeReportKind(a)},n.handleTimespanChange=function(e,t){var a=t.value;n.props.changeReportTimespan(a)},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container-header"},s.a.createElement(Te.a.Group,{basic:!0},s.a.createElement(Me.a,{button:!0,value:this.props.kind,options:this.props.kindOptions,onChange:this.handleKindChange}),s.a.createElement(Te.a,{icon:"chevron left",onClick:this.props.moveReportDateBackwards}),s.a.createElement(Me.a,{basic:!0,button:!0,icon:!1,text:this.props.timespanLabel,value:this.props.timespan,options:this.props.timespanOptions,onChange:this.handleTimespanChange}),s.a.createElement(Te.a,{icon:"chevron right",onClick:this.props.moveReportDateForwards})))}}]),t}(s.a.Component),Yr=function(e){return e.ui.report},Wr=function(e){var t,n,a=new Date(e.ui.report.date.start);return a.setDate(a.getDate()+1),t=a,n=e.ui.report.timespan,Pe()(t,n===Er?"YYYY":"MMM, YYYY")},Hr=Object(d.b)(function(e){return{kind:e.ui.report.kind,kindOptions:[{key:Or.ExpenseIncome,value:Or.ExpenseIncome,text:"Expense & Income"},{key:Or.ExpenseTags,value:Or.ExpenseTags,text:"Expense by Tags"},{key:Or.NetWorth,value:Or.NetWorth,text:"Net Worth"}],timespan:e.ui.report.timespan,timespanOptions:[{key:Er,value:Er,text:"Yearly"},{key:xr,value:xr,text:"Monthly"}],timespanLabel:Wr(e)}},{changeReportKind:Ya,changeReportTimespan:Wa,moveReportDateBackwards:za,moveReportDateForwards:Va})(Kr),zr=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleAccountsChange=function(e,t){var a=t.value;n.props.changeReportAccounts(a)},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container-footer"},s.a.createElement(Me.a,{multiple:!0,selection:!0,fluid:!0,placeholder:"Specify accounts",value:this.props.accounts,options:this.props.accountOptions,onChange:this.handleAccountsChange}))}}]),t}(s.a.Component),Vr=Object(d.b)(function(e){return{accounts:e.ui.report.accounts,accountOptions:je(e)}},{changeReportAccounts:Ha})(zr),$r=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.props.loadAccounts(),this.props.loadReport()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-full-page flat"},s.a.createElement(Hr,null),s.a.createElement(Br,this.props),s.a.createElement(Vr,null))}}]),t}(s.a.Component),qr=Object(d.b)(function(e){return{isLoading:e.ui.report.isLoading,currency:Y(e),kind:e.ui.report.kind,data:e.ui.report.data}},{loadAccounts:dn,loadReport:$a})($r),Qr=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).handleBaseChange=function(e,t){var a=t.value;n.props.changeSettingsCurrency({base:a,secondary:n.props.secondary})},n.handleSecondaryChange=function(e,t){var a=t.value;n.props.changeSettingsCurrency({base:n.props.base,secondary:a})},n.options=G.options(),n.updateSecondaryOptions(e.base),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.updateSecondaryOptions(e.base)}},{key:"updateSecondaryOptions",value:function(e){this.secondaryOptions=this.options.filter(function(t){return t.key!==e})}},{key:"render",value:function(){return s.a.createElement(Ie.a,null,s.a.createElement(Ie.a.Group,{widths:"equal"},s.a.createElement(Ie.a.Field,null,s.a.createElement("label",null,"Base Currency"),s.a.createElement(Me.a,{search:!0,selection:!0,onChange:this.handleBaseChange,options:this.options,value:this.props.base})),s.a.createElement(Ie.a.Field,null,s.a.createElement("label",null,"Additional Currencies (optional)"),s.a.createElement(Me.a,{placeholder:"Select additional currencies",search:!0,selection:!0,multiple:!0,renderLabel:function(e){return e.key},closeOnChange:!0,onChange:this.handleSecondaryChange,options:this.secondaryOptions,value:this.props.secondary}))))}}]),t}(s.a.Component),Zr=Object(d.b)(function(e){return{base:K(e),secondary:W(e)}},{changeSettingsCurrency:D})(Qr),Jr=n(613),Xr=function(e){var t=[e.base].concat(Object(m.a)(e.secondary));return s.a.createElement(ba.a,{celled:!0,unstackable:!0,definition:!0},s.a.createElement(ba.a.Header,null,s.a.createElement(ba.a.Row,null,s.a.createElement(ba.a.HeaderCell,null),t.map(function(e){return s.a.createElement(ba.a.HeaderCell,{key:e,textAlign:"center",content:e})}))),s.a.createElement(ba.a.Body,null,t.map(function(n){return s.a.createElement(ba.a.Row,{key:n},s.a.createElement(ba.a.Cell,{textAlign:"center",content:n}),t.map(function(t){var a=e.exchangeRate[t]/e.exchangeRate[n];return s.a.createElement(ba.a.Cell,{key:"".concat(n,"-").concat(t),disabled:n===t,textAlign:"center",content:Number(a).toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:a<.001?6:4})})}))})))},ec=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.base,n=e.secondary,a=e.exchangeRate;return s.a.createElement(ba.a,{basic:!0},s.a.createElement(ba.a.Body,null,n.map(function(e){return s.a.createElement(ba.a.Row,{key:e},s.a.createElement(ba.a.Cell,null,"1 ",e," = ",Number(1/a[e]).toFixed(6)," ",t),s.a.createElement(ba.a.Cell,null,"1 ",t," = ",a[e]," ",e))})))}}]),t}(s.a.Component),tc=(n(545),function(e){return e.secondary.length>0&&s.a.createElement(De.a,{basic:!0,className:"exchange-rate-table"},s.a.createElement(C.a,{inverted:!0,active:e.isLoading},s.a.createElement(k.a,null)),s.a.createElement(Jr.a,{minWidth:768},s.a.createElement(Xr,e)),s.a.createElement(Jr.a,{maxWidth:767},s.a.createElement(ec,e)),s.a.createElement(Te.a,{basic:!0,content:"Update exchange rate",icon:"refresh",onClick:e.updateExchangeRate}))}),nc=Object(d.b)(function(e){return{base:K(e),secondary:W(e),exchangeRate:B(e),isLoading:e.ui.settings.isExchangeLoading}},{updateExchangeRate:I})(tc),ac=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],rc=n(602),cc=(n(546),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleFileChange=function(e){return n.props.openImportFile(e.target.files[0])},n.handleOpenFile=function(){return n.fileInput.click()},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"mt-dataImport"},s.a.createElement("p",null,"Import transactions from a CSV file."),this.props.error&&s.a.createElement(rc.a,{error:!0,icon:"warning circle",header:"Failed to import",content:this.props.error}),!this.props.isFileSelected&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Te.a,{content:"Open File",icon:"file text",onClick:this.handleOpenFile}),s.a.createElement("input",{type:"file",accept:"text/csv",ref:function(t){e.fileInput=t},onChange:this.handleFileChange})),this.props.isFileSelected&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Selected file:"," ",s.a.createElement("strong",null,this.props.filename," (",function(e){if(!Number.isFinite(e))throw new TypeError("Expected a finite number, got ".concat(typeof e,": ").concat(e));var t=e<0;if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var n=Math.min(Math.floor(Math.log10(e)/3),ac.length-1);return(t?"-":"")+Number((e/Math.pow(1e3,n)).toPrecision(3))+" "+ac[n]}(this.props.filesize),")")),!this.props.isProcessing&&s.a.createElement(Te.a.Group,null,s.a.createElement(Te.a,{onClick:this.props.discardImportFile},"Discard File"),s.a.createElement(Te.a.Or,null),s.a.createElement(Te.a,{onClick:this.props.startDataImport,positive:!0},"Start Import")),this.props.isProcessing&&s.a.createElement(_a.a,{active:!0,indicating:!0,autoSuccess:!0,total:this.props.linesToProcess,value:this.props.linesProcessed})))}}]),t}(s.a.Component)),oc=Object(R.a)("OPEN_IMPORT_FILE","DISCARD_IMPORT_FILE","START_DATA_IMPORT","IMPORT_FILE_READ_SUCCESS","IMPORT_LINE_PROCESSED","IMPORT_FAILURE"),ic=oc.openImportFile,sc=oc.discardImportFile,uc=oc.startDataImport,lc=oc.importFileReadSuccess,pc=oc.importLineProcessed,dc=oc.importFailure,mc=function(e){return e.ui.dataImport.file},bc=Object(d.b)(function(e){var t=mc(e);return{isFileSelected:e.ui.dataImport.isFileSelected,isProcessing:e.ui.dataImport.isProcessing,linesToProcess:e.ui.dataImport.linesToProcess,linesProcessed:e.ui.dataImport.linesProcessed,filename:t&&t.name,filesize:t&&t.size,error:e.ui.dataImport.error}},{openImportFile:ic,discardImportFile:sc,startDataImport:uc})(cc),fc=n(610),hc=n(28),gc=Object(hc.createAction)("user/ui/sign_out/SIGN_OUT_REQUEST"),Oc=Object(hc.createAction)("user/ui/sign_out/SIGN_OUT_SUCCESS"),yc=Object(hc.createAction)("user/ui/sign_out/SIGN_OUT_FAILURE",function(e){return function(t){return e(t)}}),vc=function(e){return e.user.isDemoUser},jc=function(e){return e.user.isSignedIn},Ec=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.isSignOutComplete?s.a.createElement(v.a,{to:"/"}):s.a.createElement(fc.a,{on:"click",trigger:s.a.createElement(Te.a,{content:this.signOutButtonLabel(),icon:this.signOutButtonIcon(),labelPosition:"right"}),header:"Local data will de deleted!",content:s.a.createElement(Te.a,{content:"Confirm",negative:!0,style:{marginTop:"1em"},floated:"right",loading:this.props.isSignOutRunning,disabled:this.props.isSignOutRunning,onClick:this.props.signOut})})}},{key:"signOutButtonLabel",value:function(){return this.props.isDemo?"Reset demo":this.props.isAuthenticated?"Sign out":"Delete data"}},{key:"signOutButtonIcon",value:function(){return this.props.isDemo?"refresh":this.props.isAuthenticated?"sign out":"trash"}}]),t}(s.a.Component),xc=Object(d.b)(function(e){return{isDemo:vc(e),isAuthenticated:jc(e),isSignOutRunning:"REQUEST"===e.user.ui.signOut.signOutState,isSignOutComplete:"COMPLETE"===e.user.ui.signOut.signOutState}},{signOut:gc})(Ec),Cc=[{path:"/",exact:!0,label:"Fintest Dashboard",icon:"newspaper",component:kn},{path:"/transactions/:accountId?",link:"/transactions",exact:!1,label:"Transactions",icon:"exchange",component:Oa},{path:"/accounts",exact:!1,label:"Accounts",icon:"credit card",component:Ba},{path:"/reports",exact:!1,label:"Reports",icon:"line chart",component:qr},{path:"/budget",exact:!1,label:"Budget",icon:"shopping basket",component:function(){return s.a.createElement(rc.a,{size:"large",icon:"hourglass half",header:"Work in Progress",content:"This page is not ready yet, check back later \ud83d\ude09"})}},{path:"/settings",exact:!0,label:"Settings",icon:"options",component:function(){return s.a.createElement("div",{className:"container-full-page mt-settings"},s.a.createElement(z,{name:"settings_currency",label:"Currency"},s.a.createElement(Zr,null),s.a.createElement(nc,null)),s.a.createElement(z,{name:"settings_import",label:"Data Import"},s.a.createElement(bc,null)),s.a.createElement(z,{name:"settings_user",label:"User"},s.a.createElement(xc,null)))}}],kc=n(596),Ac=(n(549),function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).renderSendCodeForm=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Please provide your email address and we will send you a verification code for sign in."),s.a.createElement(Ie.a,{onSubmit:n.props.sendCode},s.a.createElement("div",{className:"auth--input-field"},s.a.createElement(Fe.a,{fluid:!0,required:!0,placeholder:"Email Address",name:"email",type:"email",icon:"mail",iconPosition:"left",value:n.props.email,onChange:function(e,t){var a=t.value;return n.props.changeEmail(a)},disabled:"REQUEST"===n.props.sendCodeStatus,action:{primary:!0,content:"Send Code",loading:"REQUEST"===n.props.sendCodeStatus}}))),s.a.createElement(Yt.a,{as:"h3"},"Why do I need to sign in?"),s.a.createElement("p",{style:{marginTop:"1em"}},"After you sign in for the first time we will create a new database for you hosted in the cloud. This database will be used to synchronize your data among different devices as well as for back up."))},n.renderVerifyCodeForm=function(){return s.a.createElement(Ie.a,{onSubmit:n.props.verifyCode},s.a.createElement("p",null,"An email with the code has been sent to ",n.props.email),s.a.createElement("div",{className:"auth--input-field"},s.a.createElement(Fe.a,{fluid:!0,required:!0,placeholder:"Your Code",type:"number",icon:"lock",iconPosition:"left",value:n.props.code,onChange:function(e,t){var a=t.value;return n.props.changeCode(a)},disabled:"REQUEST"===n.props.verifyCodeStatus,action:s.a.createElement(Te.a,{primary:!0,content:"Sign In",loading:"REQUEST"===n.props.verifyCodeStatus})}),s.a.createElement(Te.a,{basic:!0,as:"a"},"Didn't get the code?")))},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.location&&this.props.location.hash&&this.props.finishAuth()}},{key:"render",value:function(){return this.props.isSignedIn?s.a.createElement(v.a,{to:"/"}):this.props.location&&this.props.location.hash?s.a.createElement(k.a,{active:!0,content:"Synchronizing data, this might take a moment..."}):s.a.createElement("div",{className:"container-raised-desktop"},s.a.createElement(Yt.a,{as:"h2",icon:"id card outline",content:"Sign In"}),s.a.createElement(kc.a,null),this.props.error&&s.a.createElement(rc.a,{error:!0},s.a.createElement(rc.a.Header,null,"Error"),s.a.createElement(rc.a.Content,null,this.props.error)),"SUCCESS"!==this.props.sendCodeStatus?this.renderSendCodeForm():this.renderVerifyCodeForm(),s.a.createElement(kc.a,null),s.a.createElement("p",null,s.a.createElement(Se.a,{to:"/"},"Back")))}}]),t}(s.a.Component)),Sc=Object(hc.createAction)("user/ui/sign_in/CHANGE_EMAIL",function(e){return function(t){return e(t)}}),Tc=Object(hc.createAction)("user/ui/sign_in/CHANGE_CODE",function(e){return function(t){return e(t)}}),wc=Object(hc.createAction)("user/ui/sign_in/SEND_CODE"),Rc=Object(hc.createAction)("user/ui/sign_in/SEND_CODE_SUCCESS"),Nc=Object(hc.createAction)("user/ui/sign_in/SEND_CODE_FAILURE",function(e){return function(t){return e(t)}}),_c=Object(hc.createAction)("user/ui/sign_in/VERIFY_CODE"),Dc=Object(hc.createAction)("user/ui/sign_in/VERIFY_CODE_SUCCESS"),Ic=Object(hc.createAction)("user/ui/sign_in/VERIFY_CODE_FAILURE",function(e){return function(t){return e(t)}}),Mc=Object(hc.createAction)("user/ui/sign_in/FINISH_AUTH"),Fc=Object(d.b)(function(e){var t=e.user;return Object(b.a)({},t.ui.signIn,{isSignedIn:t.isSignedIn})},{changeEmail:Sc,changeCode:Tc,sendCode:wc,verifyCode:_c,finishAuth:Mc})(Ac),Lc=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.loadAccounts()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-raised-desktop"},s.a.createElement(Yt.a,{as:"h2",icon:"settings",content:"Fintest Setup"}),s.a.createElement(kc.a,null),!this.props.isAuthenticated&&s.a.createElement("p",null,s.a.createElement(Se.a,{to:"/auth"},"Sign in")," if you want to sync your data with the cloud. You may also use the tracker without signing in. Your data will be stored only on current device in this case. You can sign in and sync your data any time later."),s.a.createElement(Yt.a,{as:"h2"},"Currencies"),s.a.createElement("p",null,"Select your base currency \u2014 the currency which will be used by default.",s.a.createElement("br",null),"You can also select any number of additional currencies, if you use them."),s.a.createElement(Zr,null),s.a.createElement(nc,null),s.a.createElement(Yt.a,{as:"h2"},"Accounts"),s.a.createElement("p",null,"Create accounts that you would like to keep track of.",s.a.createElement("br",null),"It could be cash in your wallet, bank accounts, credit cards or even a loan to your friend."),s.a.createElement(Ua,null),this.props.accounts.length>0&&s.a.createElement("div",{style:{margin:"1em"}},s.a.createElement(Ma,null),s.a.createElement("div",{className:"form-submit"},s.a.createElement(Te.a,{primary:!0,content:"Finish",onClick:this.props.completeSetup}))))}}]),t}(s.a.Component),Pc=Object(d.b)(function(e){return{isAuthenticated:jc(e),accounts:de(e)}},{loadAccounts:dn,completeSetup:P})(Lc),Uc=function(e){var t=e.isOpen,n=e.toggleSidebar;return s.a.createElement("nav",{className:t?"open":"closed",onClick:n},s.a.createElement(et.a,{fluid:!0,color:"blue",vertical:!0,icon:"labeled"},Cc.map(function(e){return s.a.createElement(j.a,{key:e.path,exact:e.exact,path:e.path,children:function(t){var n=t.match;return s.a.createElement(et.a.Item,{as:Se.a,to:e.link||e.path,active:!!n},s.a.createElement(w.a,{name:e.icon}),e.label)}})})))},Gc=n(330),Bc=n.n(Gc),Kc=(n(550),function(){return s.a.createElement("div",{className:"logo"},s.a.createElement("img",{src:Bc.a,alt:"Money Tracker"}))}),Yc=n(225),Wc=Object(Yc.a)("TOGGLE_SIDEBAR"),Hc=Object(R.a)("DISMISS_SYNC_WARNING","SET_PENDING_CHANGES_FLAG","SYNC","SYNC_REQUEST","SYNC_SUCCESS","SYNC_FAILURE"),zc=Hc.dismissSyncWarning,Vc=Hc.setPendingChangesFlag,$c=Hc.sync,qc=Hc.syncRequest,Qc=Hc.syncSuccess,Zc=Hc.syncFailure,Jc=(n(551),Object(d.b)(function(e,t){return Object(b.a)({},t,{isMobile:e.ui.isMobile,isAuthenticated:jc(e),isSyncRunning:e.ui.sync.isRunning,hasPendingChanges:e.ui.sync.hasPendingChanges})},{toggleSidebar:Wc,sync:$c})(function(e){var t=e.label,n=e.isMobile,a=e.isAuthenticated,r=e.isSyncRunning,c=e.hasPendingChanges,o=e.toggleSidebar,i=e.sync;return s.a.createElement("header",null,s.a.createElement(Yt.a,null,n&&s.a.createElement(w.a,{name:"bars",onClick:o}),!n&&s.a.createElement(Kc,null),s.a.createElement(Yt.a.Content,{as:"h2"},t),a&&(r?s.a.createElement(w.a,{name:"refresh",loading:!0}):s.a.createElement(w.a,{name:"refresh",color:c?"olive":void 0,onClick:i,style:{cursor:"pointer"}}))))})),Xc=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.isVisible?s.a.createElement(rc.a,{size:"large",icon:"user circle outline",header:"Welcome to demo account!",content:s.a.createElement("div",{style:{marginTop:"0.5em"}},s.a.createElement("p",null,"You are logged in as a demo user with sample data generated to show you how things might look like."),s.a.createElement("p",null,"All the changes you make will only be stored locally on your device."),s.a.createElement("p",null,s.a.createElement(Te.a,{as:"a",href:"https://app.moneytracker.cc",icon:"sign in",content:"Go to Live app",labelPosition:"right"})))}):null}}]),t}(s.a.Component),eo=Object(d.b)(function(e){return{isVisible:vc(e)}})(Xc),to=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.isVisible?s.a.createElement(rc.a,{warning:!0,size:"large",onDismiss:this.props.dismissSyncWarning},s.a.createElement(rc.a.Header,null,"No Synchronization"),s.a.createElement(rc.a.Content,null,"Your data is stored only on this device and might be lost when browser storage is cleared."),s.a.createElement(rc.a.Content,null,s.a.createElement(Se.a,{to:"/auth"},"Sign in")," if you want to sync your data with the cloud and be able to access it from multiple devices.")):null}}]),t}(s.a.Component),no=Object(d.b)(function(e){return{isVisible:!jc(e)&&e.ui.sync.isWarningVisible}},{dismissSyncWarning:zc})(to),ao=Object(Yc.a)("WINDOW_RESIZE"),ro=Object(Yc.a)("BOOTSTRAP"),co=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).renderNavigationRoutes=function(){if(window.location.pathname.endsWith("index.html"))return s.a.createElement(v.a,{to:"/"});var e=n.props,t=e.isSidebarOpen,a=e.isMobile,r=e.toggleSidebar;return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{page:!0,active:a&&t,onClick:r,style:{zIndex:100}}),s.a.createElement(Uc,{isOpen:!a||t,toggleSidebar:r}),function e(t){var n=[];t.forEach(function(t){t.routes?(n.push(Object(b.a)({},t,{exact:!0})),n.push.apply(n,Object(m.a)(e(t.routes)))):n.push(t)});return n}(Cc).map(function(e){return s.a.createElement(j.a,{key:e.path,path:e.path,exact:e.exact,render:function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Jc,{label:e.label}),s.a.createElement("div",{className:"container"},s.a.createElement(eo,null),s.a.createElement(no,null),s.a.createElement(e.component,t)))}})}))},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",S()(this.props.windowResize,500)),this.props.bootstrap()}},{key:"render",value:function(){return this.props.isLoaded?s.a.createElement(E.a,{history:this.props.history},s.a.createElement(x.a,null,s.a.createElement(j.a,{path:"/auth",exact:!0,component:Fc}),this.props.isSetupComplete?s.a.createElement(j.a,{render:this.renderNavigationRoutes}):s.a.createElement(j.a,{component:Pc}))):s.a.createElement(k.a,{active:!0,content:this.props.isSyncRunning&&"Synchronizing data, this might take a moment..."})}}]),t}(s.a.Component);var oo=Object(d.b)(function(e,t){return{history:t.history,isLoaded:e.settings.isLoaded,isSyncRunning:e.ui.sync.isRunning,isSetupComplete:e.settings.isSetupComplete,isMobile:e.ui.isMobile,isSidebarOpen:e.ui.isSidebarOpen}},{bootstrap:ro,windowResize:ao,toggleSidebar:Wc})(co),io=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(g.a)(this,Object(O.a)(t).call(this,e))).state={error:null},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e}),console.log("sentry error",e),p.withScope(function(n){Object.keys(t).forEach(function(e){n.setExtra(e,t[e])}),p.captureException(e)})}},{key:"render",value:function(){return this.state.error?s.a.createElement("button",{onClick:function(){return p.showReportDialog()}},"Report feedback"):this.props.children}}]),t}(s.a.Component),so=function(e){var t=e.store,n=e.history;return s.a.createElement(io,null,s.a.createElement(d.a,{store:t},s.a.createElement(oo,{history:n})))},uo=(n(572),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function lo(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var po,mo,bo,fo,ho,go,Oo,yo,vo,jo,Eo,xo,Co,ko,Ao=n(334),So=n(35),To=n(331),wo=n(604),Ro=n(612),No=se.fromArray([]),_o=Object(wo.a)((po={},Object(q.a)(po,mn,function(e,t){var n=t.payload;return se.fromArray(n)}),Object(q.a)(po,Object(Ro.a)(bn,gn),function(e,t){var n=t.payload;return se.set(e,n)}),Object(q.a)(po,Object(Ro.a)(xn,fn),function(e,t){var n=t.payload;return se.remove(e,n)}),Object(q.a)(po,Object(hc.getType)(Oc),function(){return No}),po),No),Do=oe.Fixed,Io=oe.Discretionary,Mo=oe.Variable_Non_Discretionary,Fo={DEFAULT_EXPENSE_TAGS:(mo={},Object(q.a)(mo,"Alimony",Do),Object(q.a)(mo,"Food",Do),Object(q.a)(mo,"Gifts",Io),Object(q.a)(mo,"Groceries",Mo),Object(q.a)(mo,"Healthcare",Do),Object(q.a)(mo,"InterestExpense",Mo),Object(q.a)(mo,"Transportation",Do),Object(q.a)(mo,"Personal",Io),Object(q.a)(mo,"Pets",Do),Object(q.a)(mo,"Utilities (Electricity)",Mo),Object(q.a)(mo,"Utilities (Gas)",Mo),Object(q.a)(mo,"Utilities (Phone)",Mo),Object(q.a)(mo,"Utilities (Tv)",Do),Object(q.a)(mo,"Utilities (Water)",Mo),Object(q.a)(mo,"Travel",Do),Object(q.a)(mo,"Car Payment",Do),Object(q.a)(mo,"Car Insurance",Do),Object(q.a)(mo,"Car Repair/Licenses",Mo),Object(q.a)(mo,"Car Replacement Fund",Io),Object(q.a)(mo,"Charity",Io),Object(q.a)(mo,"Child Care",Do),Object(q.a)(mo,"Cleaning",Mo),Object(q.a)(mo,"Clothing",Io),Object(q.a)(mo,"Debt",Do),Object(q.a)(mo,"Dining",Io),Object(q.a)(mo,"Doctor/Dentist",Mo),Object(q.a)(mo,"Education",Do),Object(q.a)(mo,"Emergency Fund",Mo),Object(q.a)(mo,"Fuel",Do),Object(q.a)(mo,"Fun / Entertainment",Io),Object(q.a)(mo,"Furniture / Appliances",Io),Object(q.a)(mo,"Health Insurance",Do),Object(q.a)(mo,"Life Insurance",Do),Object(q.a)(mo,"Home Insurance",Do),Object(q.a)(mo,"Home Supplies",Mo),Object(q.a)(mo,"Medicine",Mo),Object(q.a)(mo,"Rent",Do),Object(q.a)(mo,"Mortgage",Do),Object(q.a)(mo,"Other Savings",Mo),Object(q.a)(mo,"Gym",Io),Object(q.a)(mo,"Taxes",Do),Object(q.a)(mo,"Other expenses",Do),Object(q.a)(mo,"Retirement Fund",Do),Object(q.a)(mo,"Subscriptions/Dues",Io),mo)}.DEFAULT_EXPENSE_TAGS,Lo=ce.Expense,Po=ce.Transfer,Uo=ce.Income,Go=(bo={},Object(q.a)(bo,Lo,[]),Object(q.a)(bo,Po,[]),Object(q.a)(bo,Uo,[]),bo),Bo=Object.keys(Fo),Ko=Object(wo.a)((fo={},Object(q.a)(fo,vt,function(e,t){var n=t.payload;return Object(b.a)({},e,Object(q.a)({},Lo,[].concat(Object(m.a)(Bo),Object(m.a)(n))))}),Object(q.a)(fo,jt,function(e,t){var n=t.payload;return Object(b.a)({},e,Object(q.a)({},Uo,n))}),Object(q.a)(fo,It,function(e,t){var n=t.payload,a=n.kind,r=n.tag;return e[a].includes(r)?e:Object(b.a)({},e,Object(q.a)({},a,e[a].concat(r)))}),Object(q.a)(fo,Object(hc.getType)(Oc),function(){return Go}),fo),Go),Yo=se.fromArray([]),Wo=Object(wo.a)((ho={},Object(q.a)(ho,pt,function(e,t){var n=t.payload;return se.fromArray(n)}),Object(q.a)(ho,Object(hc.getType)(Oc),function(){return Yo}),ho),Yo),Ho=se.fromArray([]),zo=Object(wo.a)((go={},Object(q.a)(go,mt,function(e,t){var n=t.payload;return se.fromArray(n)}),Object(q.a)(go,Object(hc.getType)(Oc),function(){return Ho}),go),Ho),Vo=Object(So.combineReducers)({filter:Wo,recent:zo}),$o=Object(So.combineReducers)({accounts:_o,tags:Ko,transactions:Vo}),qo=n(50),Qo=n.n(qo),Zo={name:"",group:Z,balance:{},debt:{},currencies:[],on_dashboard:!0,completed:!1,isModalOpen:!1,isDeleteRequest:!1,isDeleteRunning:!1,itemsToProcess:1/0,itemsProcessed:0},Jo=Object(wo.a)((Oo={},Object(q.a)(Oo,Ca,function(e,t){var n=t.payload;return Object(b.a)({},e,{group:n})}),Object(q.a)(Oo,xa,function(e,t){var n=t.payload;return Object(b.a)({},e,{name:n})}),Object(q.a)(Oo,Sa,function(e,t){var n=t.payload,a=e.currencies.includes(n);return a&&1===e.currencies.length?e:Object(b.a)({},e,{currencies:a?e.currencies.filter(function(e){return e!==n}):e.currencies.concat(n),balance:a||void 0!==e.balance[n]?e.balance:Object(b.a)({},e.balance,Object(q.a)({},n,"")),debt:a||void 0!==e.debt[n]?e.debt:Object(b.a)({},e.debt,Object(q.a)({},n,""))})}),Object(q.a)(Oo,ka,function(e,t){var n=t.payload;return Object(b.a)({},e,{currencies:e.currencies.includes(n.code)?e.currencies:e.currencies.concat(n.code),balance:Object(b.a)({},e.balance,Object(q.a)({},n.code,n.balance))})}),Object(q.a)(Oo,Aa,function(e,t){var n=t.payload;return Object(b.a)({},e,{currencies:e.currencies.includes(n.code)?e.currencies:e.currencies.concat(n.code),debt:Object(b.a)({},e.debt,Object(q.a)({},n.code,n.debt))})}),Object(q.a)(Oo,Ta,function(e){return Object(b.a)({},e,{on_dashboard:!e.on_dashboard})}),Object(q.a)(Oo,D,function(e,t){var n=t.payload,a=new Set([n.base].concat(Object(m.a)(n.secondary)));return Object(b.a)({},e,{currencies:e.currencies.filter(function(e){return a.has(e)}),balance:Qo()(e.balance,Object(m.a)(a)),debt:Qo()(e.debt,Object(m.a)(a))})}),Object(q.a)(Oo,Ea,function(e,t){var n=t.payload;return Object(b.a)({},e,n,{isModalOpen:!0})}),Object(q.a)(Oo,ja,function(){return Zo}),Object(q.a)(Oo,Object(Ro.a)(hn,xn),function(){return Object(b.a)({},Zo,{completed:!0})}),Object(q.a)(Oo,va,function(e,t){var n=t.payload;return Object(b.a)({},e,te(n))}),Object(q.a)(Oo,yn,function(e){return Object(b.a)({},e,{isDeleteRequest:!e.isDeleteRequest})}),Object(q.a)(Oo,vn,function(e,t){return Object(b.a)({},e,{isDeleteRunning:!0,itemsToProcess:t.payload})}),Object(q.a)(Oo,Object(Ro.a)(xn,En),function(e){return Object(b.a)({},e,{isDeleteRunning:!1})}),Object(q.a)(Oo,jn,function(e,t){return Object(b.a)({},e,{itemsProcessed:t.payload})}),Oo),Zo),Xo={kind:ze,isModalOpen:!1},ei=Object(wo.a)((yo={},Object(q.a)(yo,xt,function(e,t){return t.payload}),Object(q.a)(yo,kt,function(e,t){var n=t.payload;return Object(b.a)({},e,n,{isModalOpen:!0})}),Object(q.a)(yo,At,function(e,t){var n=t.payload;return Object(b.a)({},e,{kind:n})}),Object(q.a)(yo,St,function(e,t){var n=t.payload;return Object(b.a)({},e,{accountId:n.accountId,currency:n.currency.includes(e.currency)?e.currency:n.currency[0]})}),Object(q.a)(yo,Rt,function(e,t){var n=t.payload;return Object(b.a)({},e,{linkedAccountId:n.accountId,linkedCurrency:n.currency.includes(e.linkedCurrency)?e.linkedCurrency:n.currency[0]})}),Object(q.a)(yo,Tt,function(e,t){var n=t.payload;return Object(b.a)({},e,{amount:n,linkedAmount:e.currency===e.linkedCurrency?n:e.linkedAmount})}),Object(q.a)(yo,Nt,function(e,t){var n=t.payload;return Object(b.a)({},e,{amount:e.currency===e.linkedCurrency?n:e.amount,linkedAmount:n})}),Object(q.a)(yo,wt,function(e,t){var n=t.payload;return Object(b.a)({},e,{currency:n,linkedAmount:e.linkedCurrency===n?e.amount:e.linkedAmount})}),Object(q.a)(yo,_t,function(e,t){var n=t.payload;return Object(b.a)({},e,{linkedCurrency:n,linkedAmount:e.currency===n?e.amount:e.linkedAmount})}),Object(q.a)(yo,Mt,function(e,t){var n=t.payload;return Object(b.a)({},e,{tags:Object(b.a)({},e.tags,Object(q.a)({},e.kind,n))})}),Object(q.a)(yo,Dt,function(e,t){var n=t.payload;return Object(b.a)({},e,{date:n})}),Object(q.a)(yo,Ft,function(e,t){var n=t.payload;return Object(b.a)({},e,{note:n})}),yo),Xo),ti=Object(So.combineReducers)({account:Jo,transaction:ei}),ni=Object(wo.a)((vo={},Object(q.a)(vo,Ya,function(e,t){var n=t.payload;return Object(b.a)({},e,{kind:n})}),Object(q.a)(vo,Wa,function(e,t){var n=t.payload;return Object(b.a)({},e,{timespan:n,date:Ar(n)})}),Object(q.a)(vo,Ha,function(e,t){var n=t.payload;return Object(b.a)({},e,{accounts:n})}),Object(q.a)(vo,za,function(e){return Object(b.a)({},e,{date:Sr(e.date,e.timespan),data:Object(b.a)({},e.data,{netWorthEnd:e.data.netWorthStart}),netWorthStack:[e.data.netWorthEnd].concat(Object(m.a)(e.netWorthStack))})}),Object(q.a)(vo,Va,function(e){return Object(b.a)({},e,{date:Tr(e.date,e.timespan),data:Object(b.a)({},e.data,{netWorthEnd:e.netWorthStack[0]}),netWorthStack:e.netWorthStack.slice(1)})}),Object(q.a)(vo,$a,function(e){return Object(b.a)({},e,{isLoading:!0})}),Object(q.a)(vo,qa,function(e,t){var n=t.payload;return Object(b.a)({},e,{isLoading:!1,data:n})}),Object(q.a)(vo,Qa,function(e){return Object(b.a)({},e,{isLoading:!1})}),vo),{isLoading:!1,data:{},kind:Cr,timespan:kr,date:Ar(),accounts:[],netWorthStack:[]}),ai={dateStart:Ge(ta()),dateEnd:Ge(na()),isCalendarOpen:!1,isFilterModalOpen:!1,applied:{},isLoading:!1,totalRows:0,page:0,perPage:10},ri=Object(wo.a)((jo={},Object(q.a)(jo,lt,function(e){return Object(b.a)({},e,{isLoading:!0})}),Object(q.a)(jo,pt,function(e,t){var n=t.payload;return Object(b.a)({},e,{page:0,totalRows:n.length,isLoading:!1})}),Object(q.a)(jo,oa,function(e,t){var n=t.payload;return Object(b.a)({},e,{dateStart:Ge(n.dateStart),dateEnd:Ge(n.dateEnd),isLoading:!0})}),Object(q.a)(jo,sa,function(e,t){var n=t.payload;return Object(b.a)({},e,{page:n})}),Object(q.a)(jo,ia,function(e){return Object(b.a)({},e,{isCalendarOpen:!e.isCalendarOpen})}),Object(q.a)(jo,ua,function(e){return Object(b.a)({},e,{isFilterModalOpen:!e.isFilterModalOpen})}),Object(q.a)(jo,la,function(e,t){var n=t.payload;return Object(b.a)({},e,{applied:n})}),jo),ai),ci=Object(So.combineReducers)({filter:ri}),oi={isFileSelected:!1,file:void 0,error:"",isProcessing:!1,linesToProcess:1/0,linesProcessed:0},ii=Object(wo.a)((Eo={},Object(q.a)(Eo,ic,function(e,t){return Object(b.a)({},e,{isFileSelected:!0,file:t.payload})}),Object(q.a)(Eo,sc,function(e){return Object(b.a)({},e,{isFileSelected:!1,file:void 0})}),Object(q.a)(Eo,uc,function(e){return Object(b.a)({},e,{isProcessing:!0})}),Object(q.a)(Eo,lc,function(e,t){return Object(b.a)({},e,{linesToProcess:t.payload})}),Object(q.a)(Eo,pc,function(e,t){return Object(b.a)({},e,{linesProcessed:t.payload})}),Object(q.a)(Eo,dc,function(e,t){return Object(b.a)({},e,{isFileSelected:!1,isProcessing:!1,file:void 0,error:t.payload.message})}),Eo),oi),si=n(335),ui=function(){return window.matchMedia("(max-width: 768px)").matches},li=Object(si.a)(ao,ui,ui()),pi=Object(si.a)(Wc,function(e){return!e},!1),di=Object(wo.a)((xo={},Object(q.a)(xo,Object(Ro.a)(D,I),function(e){return Object(b.a)({},e,{isExchangeLoading:!0})}),Object(q.a)(xo,Object(Ro.a)(M,F),function(e){return Object(b.a)({},e,{isExchangeLoading:!1})}),xo),{isExchangeLoading:!1}),mi=Object(wo.a)((Co={},Object(q.a)(Co,qc,function(e){return Object(b.a)({},e,{isRunning:!0})}),Object(q.a)(Co,Qc,function(e){return Object(b.a)({},e,{isRunning:!1,hasPendingChanges:!1})}),Object(q.a)(Co,Zc,function(e){return{isRunning:!1}}),Object(q.a)(Co,zc,function(e){return Object(b.a)({},e,{isWarningVisible:!1})}),Object(q.a)(Co,Vc,function(e){return Object(b.a)({},e,{hasPendingChanges:!0})}),Co),{isRunning:!1,isWarningVisible:!0,hasPendingChanges:!1}),bi=Object(So.combineReducers)({form:ti,report:ni,transaction:ci,dataImport:ii,settings:di,sync:mi,isMobile:li,isSidebarOpen:pi}),fi={isLoaded:!1,isSetupComplete:!1,currency:{base:G.defaultBase,secondary:[]},exchangeRate:Object(q.a)({},G.defaultBase,1),collapsedSections:[]},hi=Object(wo.a)((ko={},Object(q.a)(ko,_,function(e,t){var n=t.payload;return Object(b.a)({},e,{isLoaded:!0},Qo()(n,Object.keys(e)))}),Object(q.a)(ko,D,function(e,t){var n=t.payload,a=n.base,r=n.secondary;return r.includes(a)&&(r=r.concat(e.currency.base).filter(function(e){return e!==a})),Object(b.a)({},e,{currency:{base:a,secondary:r}})}),Object(q.a)(ko,M,function(e,t){var n=t.payload;return Object(b.a)({},e,{exchangeRate:n})}),Object(q.a)(ko,L,function(e,t){var n=t.payload;return Object(b.a)({},e,{collapsedSections:e.collapsedSections.includes(n)?e.collapsedSections.filter(function(e){return e!==n}):e.collapsedSections.concat(n)})}),Object(q.a)(ko,P,function(e){return Object(b.a)({},e,{isSetupComplete:!0})}),Object(q.a)(ko,Object(hc.getType)(Oc),function(){return fi}),ko),fi),gi=Object(hc.createAction)("user/SET_DEMO_USER"),Oi=Object(hc.createAction)("user/SIGN_IN_SUCCESS"),yi={email:"",code:""},vi=n(11),ji=n.n(vi),Ei=n(6),xi=new(n(332).a)({domain:"money-tracker.auth0.com",clientID:"NnttWrjWNjJjbhORjkIOrUVs07wF0UfN",redirectUri:"https://app.moneytracker.cc/auth",responseType:"token"}),Ci={sendCode:function(e){return new Promise(function(t,n){xi.passwordlessStart({connection:"email",send:"code",email:e},function(e,a){return e?n(e):t(a)})})},verifyCode:function(e,t){return new Promise(function(n,a){xi.passwordlessLogin({connection:"email",email:e,verificationCode:t},function(e,t){return e?a(e):n(t)})})},parseHash:function(){return new Promise(function(e,t){xi.parseHash(function(n,a){if(n)return t(n);e(a.accessToken)})})},getUserInfo:function(e){return new Promise(function(t,n){xi.client.userInfo(e,function(a,r){if(a)return n(a);t({accessToken:e,couchDB:r.couchDB})})})}};var ki=function(e){return e.user.ui.signIn.email},Ai=function(e){return e.user.ui.signIn.code},Si=ce.Transfer;function Ti(e,t){return!e&&t?wi(t):e&&!t?Ri(e):e&&t?[].concat(Object(m.a)(Ri(e)),Object(m.a)(wi(t))):[]}function wi(e){var t=[];return e.kind===Si&&e.accountId===e.linkedAccountId&&e.currency===e.linkedCurrency?t:(t.push({accountId:e.accountId,currency:e.currency,amount:e.amount*(e.kind===Si?-1:1)}),e.kind===Si&&e.linkedAccountId&&e.linkedCurrency&&e.linkedAmount&&t.push({accountId:e.linkedAccountId,currency:e.linkedCurrency,amount:e.linkedAmount}),t)}function Ri(e){var t=[];return t.push({accountId:e.accountId,currency:e.currency,amount:e.amount*(e.kind===Si?1:-1)}),e.kind===Si&&e.linkedAccountId&&e.linkedCurrency&&e.linkedAmount&&t.push({accountId:e.linkedAccountId,currency:e.linkedCurrency,amount:-1*e.linkedAmount}),t}var Ni=n(46),_i=n(222),Di={};function Ii(e){return void 0===Di[e]&&(Di[e]=new _i.a(e,{auto_compaction:!0})),Di[e]}function Mi(e){var t="remote_".concat(e);if(void 0===Di[t]){var n=JSON.parse(localStorage.getItem("userInfo"));if(n&&n.couchDB&&n.couchDB[e]){var a=n.couchDB,r=a.username,c=a.password;Di[t]=new _i.a(n.couchDB[e],{skipSetup:!0,auth:r&&c?{username:r,password:c}:void 0})}}return Di[t]}function Fi(e){if(void 0!==Di[e]){var t=Di[e];return delete Di[e],delete Di["remote_".concat(e)],t.destroy()}}var Li=function(){return Ii("settings")},Pi=function(){return Ii("accounts")},Ui=function(){return Ii("transactions")},Gi=function(){return Ii("tags")},Bi=function(){return Mi("settings")},Ki=function(){return Mi("accounts")},Yi=function(){return Mi("transactions")},Wi=function(){return Mi("tags")},Hi=function(){return Fi("settings")},zi=function(){return Fi("accounts")},Vi=function(){return Fi("transactions")},$i=function(){return Fi("tags")},qi={sync:function(){return Qi.apply(this,arguments)},load:function(e){return Gi().allDocs({include_docs:!0,start_key:"t".concat(e),end_key:"t".concat(e,"\uffff")}).then(function(e){return e.rows.map(function(e){return{tag:e.doc._id.split("/")[1],usage:e.doc.usage}})}).then(function(e){return e.sort(function(e,t){return t.usage-e.usage})}).then(function(e){return e.map(function(e){return e.tag})})},updateUsage:function(e,t,n){var a="t".concat(e,"/").concat(t);return Gi().get(a).then(function(e){return Gi().put(Object(b.a)({},e,{usage:parseInt(e.usage,10)+n}))}).catch(function(e){if(404!==e.status)throw e;return Gi().put({_id:a,usage:1})})},destroy:function(){return $i()}};function Qi(){return(Qi=Object(Ni.a)(ji.a.mark(function e(){var t,n,a=arguments;return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],n=!1,Wi()){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,Gi().replicate.from(Wi());case 6:if(e.sent.docs_written>0&&(n=!0),!t){e.next=10;break}return e.abrupt("return",n);case 10:return e.next=12,Gi().replicate.to(Wi());case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zi(e,t){var n=new Set,a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var s=o.value;t.has(s)||n.add(s)}}catch(u){r=!0,c=u}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}var Ji=ji.a.mark(ns),Xi=ji.a.mark(as),es=ce.Expense,ts=ce.Income;function ns(){var e,t;return ji.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ei.b)(qi.load,es);case 2:return e=n.sent,n.next=5,Object(Ei.c)(vt(e));case 5:return n.next=7,Object(Ei.b)(qi.load,ts);case 7:return t=n.sent,n.next=10,Object(Ei.c)(jt(t));case 10:case"end":return n.stop()}},Ji)}function as(e,t){var n,a,r,c,o,i,s,u,l,p,d,m,b,f;return ji.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n=new Set(e&&e.tags||[]),a=new Set(t&&t.tags||[]),r=!0,c=!1,o=void 0,h.prev=5,i=Zi(a,n)[Symbol.iterator]();case 7:if(r=(s=i.next()).done){h.next=14;break}return u=s.value,h.next=11,Object(Ei.b)(qi.updateUsage,t.kind,u,1);case 11:r=!0,h.next=7;break;case 14:h.next=20;break;case 16:h.prev=16,h.t0=h.catch(5),c=!0,o=h.t0;case 20:h.prev=20,h.prev=21,r||null==i.return||i.return();case 23:if(h.prev=23,!c){h.next=26;break}throw o;case 26:return h.finish(23);case 27:return h.finish(20);case 28:l=!0,p=!1,d=void 0,h.prev=31,m=Zi(n,a)[Symbol.iterator]();case 33:if(l=(b=m.next()).done){h.next=40;break}return f=b.value,h.next=37,Object(Ei.b)(qi.updateUsage,e.kind,f,-1);case 37:l=!0,h.next=33;break;case 40:h.next=46;break;case 42:h.prev=42,h.t1=h.catch(31),p=!0,d=h.t1;case 46:h.prev=46,h.prev=47,l||null==m.return||m.return();case 49:if(h.prev=49,!p){h.next=52;break}throw d;case 52:return h.finish(49);case 53:return h.finish(46);case 54:case"end":return h.stop()}},Xi,null,[[5,16,20,28],[21,,23,27],[31,42,46,54],[47,,49,53]])}var rs=[Object(Ei.e)(yt,ns)],cs=n(214),os=n.n(cs),is={sync:function(){return ss.apply(this,arguments)},load:function(e){return Ui().get(e).then(Qe).catch(function(e){if(404!==e.status)throw e})},loadRecent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return Ui().allDocs({include_docs:!0,descending:!0,startkey:"T\uffff",endkey:"T",limit:e}).then(function(e){return e.rows.map(function(e){return e.doc})}).then(function(e){return e.map(Qe)})},loadFiltered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ui().allDocs({include_docs:!0,descending:!0,startkey:e.date?"T".concat(e.date.end,"-\uffff"):"T\uffff",endkey:e.date?"T".concat(e.date.start,"-"):"T"}).then(function(e){return e.rows.map(function(e){return e.doc})}).then(function(t){return function(e,t){Array.isArray(t)&&(t=new Set(t));return t&&t.size?e.filter(function(e){return t.has(e.accountId)||t.has(e.linkedAccountId)}):e}(t,e.accounts)}).then(function(t){return function(e,t){return t&&t.length>0?e.filter(function(e){return os()(e.tags,t).length>0}):e}(t,e.tags)}).then(function(e){return e.map(function(e){return Qe(e)})})},save:ps,remove:function(e){return!!e&&Ui().get(e).then(function(e){return Ui().put(Object(b.a)({},e,{_deleted:!0})).then(function(){return e})}).catch(function(e){if(404!==e.status)throw e;return!1})},destroy:function(){return Vi()}};function ss(){return(ss=Object(Ni.a)(ji.a.mark(function e(){var t,n,a=arguments;return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(a.length>0&&void 0!==a[0])||a[0],Yi()){e.next=3;break}return e.abrupt("return");case 3:return n={batch_size:500},e.next=6,Ui().replicate.from(Yi(),n).on("change",function(){var e=Object(Ni.a)(ji.a.mark(function e(t){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.docs.map(us));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 6:if(t){e.next=9;break}return e.next=9,Ui().replicate.to(Yi(),n);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function us(e){return ls.apply(this,arguments)}function ls(){return(ls=Object(Ni.a)(ji.a.mark(function e(t){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id.startsWith("T")||t._id.includes("-")||t._deleted){e.next=5;break}return e.next=3,ps(Object(b.a)({},t,{id:"T".concat(t.date,"-").concat(t._id.substr(1)),date:void 0,tags:t.tags&&t.tags.length?t.tags:void 0,note:t.note&&t.note.length?t.note:void 0}));case 3:return e.next=5,Ui().remove(t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ps(e){return Ui().get(e.id).then(function(t){return Ui().put(Object(b.a)({},t,Ze(e)))}).catch(function(t){if(404!==t.status)throw t;return Ui().put(Object(b.a)({_id:e.id},Ze(e)))})}var ds=ji.a.mark(Os),ms=ji.a.mark(ys),bs=ji.a.mark(vs),fs=ji.a.mark(js),hs=ji.a.mark(Es),gs=ji.a.mark(xs);function Os(){var e;return ji.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ei.d)(un);case 2:return e=t.sent,t.next=5,Object(Ei.c)(xt(e));case 5:case"end":return t.stop()}},ds)}function ys(){var e,t;return ji.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ei.d)(Vt);case 2:return e=n.sent,n.next=5,Object(Ei.b)(is.loadFiltered,e);case 5:return t=n.sent,n.next=8,Object(Ei.c)(pt(t));case 8:case"end":return n.stop()}},ms)}function vs(){var e;return ji.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ei.b)(is.loadRecent);case 2:return e=t.sent,t.next=5,Object(Ei.c)(mt(e));case 5:case"end":return t.stop()}},bs)}function js(e){var t;return ji.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ei.b)(is.remove,e.payload);case 2:return t=n.sent,n.next=5,Object(Ei.b)(xs,t);case 5:return n.next=7,Object(Ei.b)(as,t);case 7:return n.next=9,Object(Ei.b)(vs);case 9:return n.next=11,Object(Ei.b)(ys);case 11:return n.next=13,Object(Ei.b)(Os);case 13:return n.next=15,Object(Ei.c)(gt());case 15:case"end":return n.stop()}},fs)}function Es(e){var t,n;return ji.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(Ei.b)(is.remove,t.id);case 3:return n=a.sent,t.id="T".concat(t.date,"-").concat(Date.now()),a.next=7,Object(Ei.b)(is.save,t);case 7:return a.next=9,Object(Ei.b)(xs,n,t);case 9:return a.next=11,Object(Ei.b)(as,n,t);case 11:return a.next=13,Object(Ei.b)(vs);case 13:return a.next=15,Object(Ei.b)(ys);case 15:return a.next=17,Object(Ei.b)(Os);case 17:return a.next=19,Object(Ei.c)(ft());case 19:case"end":return a.stop()}},hs)}function xs(e,t){var n,a,r,c,o,i;return ji.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=!0,a=!1,r=void 0,s.prev=3,c=Ti(e,t)[Symbol.iterator]();case 5:if(n=(o=c.next()).done){s.next=12;break}return i=o.value,s.next=9,Object(Ei.b)(Bs,i);case 9:n=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s.catch(3),a=!0,r=s.t0;case 18:s.prev=18,s.prev=19,n||null==c.return||c.return();case 21:if(s.prev=21,!a){s.next=24;break}throw r;case 24:return s.finish(21);case 25:return s.finish(18);case 26:case"end":return s.stop()}},gs,null,[[3,14,18,26],[19,,21,25]])}var Cs=[Object(Ei.e)(Ct,Os),Object(Ei.e)(lt,ys),Object(Ei.e)(oa,ys),Object(Ei.e)(la,ys),Object(Ei.e)(dt,vs),Object(Ei.e)(ht,js),Object(Ei.e)(bt,Es)],ks={sync:function(){return As.apply(this,arguments)},loadAll:Ss,save:function(e){return Pi().get(e.id).then(function(t){return Pi().put(Object(b.a)({},t,ae(e)))}).catch(function(t){if(404!==t.status)throw t;return Pi().put(Object(b.a)({_id:e.id},ae(e)))})},archive:function(e){return Pi().get(e).then(function(e){return Pi().put(Object(b.a)({},e,{archived:!0}))})},mutateBalance:function(e){var t=e.accountId,n=e.currency,a=e.amount;return Pi().get(t).then(function(e){return Pi().put(function(e,t,n){return Object(b.a)({},e,{currencies:Object(m.a)(new Set([].concat(Object(m.a)(e.currencies),[t]))),balance:Object(b.a)({},e.balance,Object(q.a)({},t,parseInt("".concat(e.balance[t]||0),10)+n)),debt:Object(b.a)({},e.debt,Object(q.a)({},t,parseInt("".concat(e.debt[t]||0),10)+n))})}(e,n,a))}).then(function(e){var n=e.rev;return Pi().get(t,n)}).then(function(e){return ne(e)})},remove:function(e){return Pi().get(e).then(function(e){return Pi().put(Object(b.a)({},e,{_deleted:!0}))}).catch(function(e){if(404!==e.status)throw e;return!0})},destroy:function(){return zi()}};function As(){return(As=Object(Ni.a)(ji.a.mark(function e(){var t,n=arguments;return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],Ki()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Pi().replicate.from(Ki());case 5:if(!(e.sent.docs_written>0)){e.next=11;break}return e.next=9,Ss();case 9:Ts(e.sent);case 11:if(!t){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,Pi().replicate.to(Ki());case 15:if(!(e.sent.docs_written>0)){e.next=21;break}return e.next=19,Ss();case 19:Ts(e.sent);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ss(){return Pi().allDocs({include_docs:!0,conflicts:!0,startkey:"A",endkey:"A\uffff"}).then(function(e){return Promise.all(e.rows.map(ws))}).then(function(e){return e.map(ne)})}function Ts(e){e.forEach(function(e){localStorage.setItem(e.id,JSON.stringify(e.balance))})}function ws(e){return Rs.apply(this,arguments)}function Rs(){return(Rs=Object(Ni.a)(ji.a.mark(function e(t){var n,a;return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.doc._conflicts){e.next=2;break}return e.abrupt("return",t.doc);case 2:return n=JSON.parse(localStorage.getItem(t.doc._id)),e.next=5,Promise.all(t.doc._conflicts.map(function(){var e=Object(Ni.a)(ji.a.mark(function e(n){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi().get(t.doc._id,{rev:n}).then(function(e){return e.balance}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:return(a=e.sent).push(t.doc.balance),t.doc.balance=Ns(n,a),e.abrupt("return",Promise.all(t.doc._conflicts.map(function(){var e=Object(Ni.a)(ji.a.mark(function e(n){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pi().remove(t.doc._id,n));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(){return Pi().put(t.doc)}).then(function(){return t.doc}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ns(e,t){return Object.keys(e).reduce(function(n,a){return n[a]=e[a]+t.reduce(function(t,n){return t+(n[a]-e[a])},0),n},{})}var _s=ji.a.mark(Us),Ds=ji.a.mark(Gs),Is=ji.a.mark(Bs),Ms=ji.a.mark(Ks),Fs=ji.a.mark(Ys),Ls=ji.a.mark(Ws),Ps=ji.a.mark(Hs);function Us(){var e;return ji.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ei.b)(ks.loadAll);case 2:return e=t.sent,t.next=5,Object(Ei.c)(mn(e));case 5:return t.next=7,Object(Ei.d)(an);case 7:if(t.sent.accountId||!(e.length>0)){t.next=11;break}return t.next=11,Os();case 11:case"end":return t.stop()}},_s)}function Gs(e){var t;return ji.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(Ei.b)(ks.save,t);case 4:return n.next=6,Os();case 6:return n.next=8,Object(Ei.c)(hn());case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object(Ei.c)(fn(t.id));case 14:case"end":return n.stop()}},Ds,null,[[1,10]])}function Bs(e){var t;return ji.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ei.b)(ks.mutateBalance,e);case 2:return t=n.sent,n.next=5,Object(Ei.c)(gn(t));case 5:case"end":return n.stop()}},Is)}function Ks(e){var t,n,a;return ji.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,r.prev=1,n={},Object(q.a)(n,c.Archive,Ys),Object(q.a)(n,c.Cleanup,Ws),Object(q.a)(n,c.Move,Hs),!(a=n[t.strategy])){r.next=7;break}return r.next=7,a(t.id,t.moveTo);case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(Ei.c)(En(r.t0.message));case 13:case"end":return r.stop()}},Ms,null,[[1,9]])}function Ys(e){return ji.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ei.b)(ks.archive,e);case 2:return t.next=4,Object(Ei.c)(xn(e));case 4:case"end":return t.stop()}},Fs)}function Ws(e){var t,n,a,r,c,o,i,s,u,l;return ji.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object(Ei.b)(is.loadFiltered,{accounts:[e]});case 2:if(!((t=p.sent).length>0)){p.next=37;break}return p.next=6,Object(Ei.c)(vn(t.length));case 6:n=!0,a=!1,r=void 0,p.prev=9,c=t.entries()[Symbol.iterator]();case 11:if(n=(o=c.next()).done){p.next=23;break}return i=o.value,s=Object($.a)(i,2),u=s[0],l=s[1],p.next=18,js(ht(l.id));case 18:return p.next=20,Object(Ei.c)(jn(u));case 20:n=!0,p.next=11;break;case 23:p.next=29;break;case 25:p.prev=25,p.t0=p.catch(9),a=!0,r=p.t0;case 29:p.prev=29,p.prev=30,n||null==c.return||c.return();case 32:if(p.prev=32,!a){p.next=35;break}throw r;case 35:return p.finish(32);case 36:return p.finish(29);case 37:return p.next=39,Object(Ei.b)(ks.remove,e);case 39:return p.next=41,Object(Ei.c)(xn(e));case 41:case"end":return p.stop()}},Ls,null,[[9,25,29,37],[30,,32,36]])}function Hs(e,t){var n,a,r,c,o,i,s,u,l,p;return ji.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(Ei.b)(is.loadFiltered,{accounts:[e]});case 2:if(!((n=d.sent).length>0)){d.next=37;break}return d.next=6,Object(Ei.c)(vn(n.length));case 6:a=!0,r=!1,c=void 0,d.prev=9,o=n.entries()[Symbol.iterator]();case 11:if(a=(i=o.next()).done){d.next=23;break}return s=i.value,u=Object($.a)(s,2),l=u[0],p=u[1],d.next=18,Es(bt(Object(b.a)({},p,{accountId:p.accountId===e?t:p.accountId,linkedAccountId:p.linkedAccountId===e?t:p.linkedAccountId})));case 18:return d.next=20,Object(Ei.c)(jn(l));case 20:a=!0,d.next=11;break;case 23:d.next=29;break;case 25:d.prev=25,d.t0=d.catch(9),r=!0,c=d.t0;case 29:d.prev=29,d.prev=30,a||null==o.return||o.return();case 32:if(d.prev=32,!r){d.next=35;break}throw c;case 35:return d.finish(32);case 36:return d.finish(29);case 37:return d.next=39,Object(Ei.b)(ks.remove,e);case 39:return d.next=41,Object(Ei.c)(xn(e));case 41:case"end":return d.stop()}},Ps,null,[[9,25,29,37],[30,,32,36]])}var zs=[Object(Ei.e)(dn,Us),Object(Ei.e)(bn,Gs),Object(Ei.e)(On,Ks),Object(Ei.e)(xn,Os)],Vs=ji.a.mark(qs),$s=ji.a.mark(Qs);function qs(){var e;return ji.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ei.c)(qc());case 2:return t.prev=2,t.next=5,Object(Ei.d)(vc);case 5:return e=t.sent,t.next=8,Object(Ei.b)(ks.sync,e);case 8:return t.next=10,Object(Ei.b)(is.sync,e);case 10:return t.next=12,Object(Ei.b)(qi.sync,e);case 12:return t.next=14,vs();case 14:return t.next=16,Us();case 16:return t.next=18,ns();case 18:return t.next=20,Object(Ei.c)(Qc());case 20:t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(2),t.next=26,Object(Ei.c)(Zc(t.t0));case 26:case"end":return t.stop()}},Vs,null,[[2,22]])}function Qs(){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ei.c)(Vc());case 2:case"end":return e.stop()}},$s)}var Zs=[Object(Ei.e)($c,qs),Object(Ei.e)(hn,Qs),Object(Ei.e)(xn,Qs),Object(Ei.e)(ft,Qs),Object(Ei.e)(gt,Qs)],Js=n(72),Xs=n.n(Js),eu=n(169),tu=n.n(eu),nu=n(333),au=n.n(nu);function ru(e,t){t.includes(e)||t.push(e);var n=t.map(function(t){return"".concat(e).concat(t)});return au()("".concat("https://wt-e9c9a7a436fcd9273a7f8890849dae65-0.sandbox.auth0-extend.com/currency-exchange","?pairs=").concat(n.join(","))).then(function(e){return e.json()}).then(function(e){return e.rates.reduce(function(e,t){return e[t.id.substring(3)]=parseFloat(t.rate),e},{})})}var cu={load:function(){return Li().get("_local/settings").then(function(e){return e},function(e){return ou}).then(function(e){return function(e){return lu.apply(this,arguments)}(e)})},save:su,saveLocal:function(e){return Li().get("_local/settings").then(function(e){return e},function(e){return ou}).then(function(t){return Li().put(Object(b.a)({},t,e))})},destroy:function(){return Hi()}},ou={_id:"_local/settings",collapsedSections:[]},iu={_id:"settings",currency:{base:G.defaultBase,secondary:[]},exchangeRate:Object(q.a)({},G.defaultBase,1)};function su(e){return uu.apply(this,arguments)}function uu(){return(uu=Object(Ni.a)(ji.a.mark(function e(t){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bi()){e.next=3;break}return e.next=3,Bi().get("settings").then(function(e){return e},function(e){return iu}).then(function(e){return Bi().put(Object(b.a)({},e,t))}).catch(function(e){if(403!==e.status)throw e});case 3:return e.abrupt("return",Li().get("settings").then(function(e){return e},function(e){return iu}).then(function(e){return Li().put(Object(b.a)({},e,t))}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lu(){return(lu=Object(Ni.a)(ji.a.mark(function e(t){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Li().get("settings").then(function(e){return e},function(e){return iu}).then(function(e){return pu(e)}).then(function(e){return Object(b.a)({},e,t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pu(e){return du.apply(this,arguments)}function du(){return(du=Object(Ni.a)(ji.a.mark(function e(t){var n,a,r,c;return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Bi()){e.next=2;break}return e.abrupt("return",t);case 2:return e.prev=2,e.next=5,Bi().get("settings");case 5:if(n=e.sent,a=n.currency.base,r=Xs()(t.currency.base,t.currency.secondary,n.currency.secondary).filter(function(e){return e!==a}),e.t0={base:a,secondary:r},t.currency.base!==a){e.next=13;break}e.t1=Object(b.a)({},t.exchangeRate,n.exchangeRate),e.next=16;break;case 13:return e.next=15,ru(a,r);case 15:e.t1=e.sent;case 16:if(e.t2=e.t1,e.t3=n.isSetupComplete,c={currency:e.t0,exchangeRate:e.t2,isSetupComplete:e.t3},tu()(Qo()(t,Object.keys(c)),c)){e.next=22;break}return e.next=22,su(c);case 22:return e.abrupt("return",c);case 25:return e.prev=25,e.t4=e.catch(2),e.abrupt("return",t);case 28:case"end":return e.stop()}},e,null,[[2,25]])}))).apply(this,arguments)}var mu=ji.a.mark(gu),bu=ji.a.mark(Ou),fu=ji.a.mark(yu),hu=ji.a.mark(vu);function gu(){var e;return ji.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ei.b)(cu.load);case 2:return e=t.sent,t.next=5,Object(Ei.c)(_(e));case 5:case"end":return t.stop()}},mu)}function Ou(){var e,t,n,a;return ji.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ei.d)(K);case 2:return e=r.sent,r.next=5,Object(Ei.d)(W);case 5:return t=r.sent,r.next=8,Object(Ei.d)(ge);case 8:return n=r.sent,r.prev=9,r.next=12,Object(Ei.b)(ru,e,Xs()(t,n));case 12:return a=r.sent,r.next=15,Object(Ei.c)(M(a));case 15:return r.next=17,Object(Ei.b)(cu.save,{currency:{base:e,secondary:t},exchangeRate:a});case 17:r.next=23;break;case 19:return r.prev=19,r.t0=r.catch(9),r.next=23,Object(Ei.c)(F(r.t0));case 23:case"end":return r.stop()}},bu,null,[[9,19]])}function yu(){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ei.b)(cu.save,{isSetupComplete:!0});case 2:case"end":return e.stop()}},fu)}function vu(){var e;return ji.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ei.d)(H);case 2:return e=t.sent,t.next=5,Object(Ei.b)(cu.saveLocal,{collapsedSections:e});case 5:case"end":return t.stop()}},hu)}var ju=[Object(Ei.e)(D,Ou),Object(Ei.e)(I,Ou),Object(Ei.e)(P,yu),Object(Ei.e)(L,vu)],Eu=ji.a.mark(Cu),xu=ji.a.mark(ku);function Cu(){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("demo.moneytracker.cc"!==window.location.hostname){e.next=13;break}return e.next=3,Object(Ei.b)([localStorage,"getItem"],"userInfo");case 3:if(e.sent){e.next=9;break}return e.next=7,Object(Ei.b)([localStorage,"setItem"],"userInfo",JSON.stringify({couchDB:{accounts:"https://couch.moneytracker.cc/accounts_2b4d1cad-7dcd-42e6-b8fc-e29206a8f889",settings:"https://couch.moneytracker.cc/settings_2b4d1cad-7dcd-42e6-b8fc-e29206a8f889",tags:"https://couch.moneytracker.cc/tags_2b4d1cad-7dcd-42e6-b8fc-e29206a8f889",transactions:"https://couch.moneytracker.cc/transactions_2b4d1cad-7dcd-42e6-b8fc-e29206a8f889"}}));case 7:return e.next=9,qs();case 9:return e.next=11,Object(Ei.c)(gi());case 11:return e.next=13,Object(Ei.c)(Oi());case 13:case"end":return e.stop()}},Eu)}function ku(){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ei.b)([localStorage,"getItem"],"userInfo");case 2:if(!e.sent){e.next=6;break}return e.next=6,Object(Ei.c)(Oi());case 6:case"end":return e.stop()}},xu)}var Au=ji.a.mark(wu),Su=ji.a.mark(Ru),Tu=ji.a.mark(Nu);function wu(){var e;return ji.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ei.d)(ki);case 2:return e=t.sent,t.prev=3,t.next=6,Object(Ei.b)(Ci.sendCode,e);case 6:return t.next=8,Object(Ei.c)(Rc());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(3),t.next=14,Object(Ei.c)(Nc(t.t0));case 14:case"end":return t.stop()}},Au,null,[[3,10]])}function Ru(){var e,t;return ji.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ei.d)(ki);case 2:return e=n.sent,n.next=5,Object(Ei.d)(Ai);case 5:return t=n.sent,n.prev=6,n.next=9,Object(Ei.b)(Ci.verifyCode,e,t);case 9:return n.next=11,Object(Ei.c)(Dc());case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(6),n.next=17,Object(Ei.c)(Ic(n.t0));case 17:case"end":return n.stop()}},Su,null,[[6,13]])}function Nu(){var e,t;return ji.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ei.b)(Ci.parseHash);case 2:return e=n.sent,n.next=5,Object(Ei.b)(Ci.getUserInfo,e);case 5:return t=n.sent,n.next=8,Object(Ei.b)([localStorage,"setItem"],"userInfo",JSON.stringify(t));case 8:return n.next=10,gu();case 10:return n.next=12,qs();case 12:return n.next=14,ku();case 14:case"end":return n.stop()}},Tu)}var _u=[Object(Ei.e)(Object(hc.getType)(wc),wu),Object(Ei.e)(Object(hc.getType)(_c),Ru),Object(Ei.e)(Object(hc.getType)(Mc),Nu)],Du=ji.a.mark(Iu);function Iu(){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ei.b)(ks.destroy);case 3:return e.next=5,Object(Ei.b)(cu.destroy);case 5:return e.next=7,Object(Ei.b)(qi.destroy);case 7:return e.next=9,Object(Ei.b)(is.destroy);case 9:return e.next=11,Object(Ei.b)([localStorage,"clear"]);case 11:return e.next=13,Object(Ei.c)(Oc());case 13:return e.next=15,Cu();case 15:return e.next=17,gu();case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),e.next=23,Object(Ei.c)(yc(e.t0));case 23:case"end":return e.stop()}},Du,null,[[0,19]])}var Mu=[Object(Ei.e)(Object(hc.getType)(gc),Iu)],Fu=Object(So.combineReducers)({signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(hc.getType)(Sc):return Object(b.a)({},e,{email:t.payload});case Object(hc.getType)(Tc):return Object(b.a)({},e,{code:t.payload});case Object(hc.getType)(wc):return Object(b.a)({},e,{sendCodeStatus:"REQUEST"});case Object(hc.getType)(Rc):return Object(b.a)({},e,{sendCodeStatus:"SUCCESS"});case Object(hc.getType)(Nc):return Object(b.a)({},e,{sendCodeStatus:"FAILURE",error:t.payload.message});case Object(hc.getType)(_c):return Object(b.a)({},e,{verifyCodeStatus:"REQUEST"});case Object(hc.getType)(Dc):return Object(b.a)({},e,{verifyCodeStatus:"SUCCESS"});case Object(hc.getType)(Ic):return Object(b.a)({},e,{verifyCodeStatus:"FAILURE",error:t.payload.message});default:return e}},signOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case Object(hc.getType)(gc):return Object(b.a)({},e,{signOutState:"REQUEST"});case Object(hc.getType)(Oc):return Object(b.a)({},e,{signOutState:"SUCCESS"});case Object(hc.getType)(yc):return Object(b.a)({},e,{signOutState:"FAILURE"});default:return e}}}),Lu=[].concat(Object(m.a)(_u),Object(m.a)(Mu)),Pu=Object(So.combineReducers)({isDemoUser:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(arguments.length>1?arguments[1]:void 0).type===Object(hc.getType)(gi)||e},isSignedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(arguments.length>1?arguments[1]:void 0).type===Object(hc.getType)(Oi)||e},ui:Fu}),Uu=Object(So.combineReducers)({settings:hi,entities:$o,user:Pu,ui:bi}),Gu=ji.a.mark(Bu);function Bu(){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu();case 2:return e.next=4,ku();case 4:return e.next=6,gu();case 6:return e.next=8,qs();case 8:case"end":return e.stop()}},Gu)}var Ku=[Object(Ei.e)(ro,Bu)],Yu=ce.Expense,Wu=ce.Transfer,Hu=ce.Income,zu=function(e){return new Promise(function(t,n){var a=new FileReader;a.onerror=n,a.onload=function(e){try{t(function(e){if(e[0].split(Vu).length!==Object.keys($u).length)throw new Error("Invalid file format!\n    Must be a CSV with following columns:\n    date;account;tags;amount;currency;description;transfer");for(var t=1;t<e.length;t++){var n=e[t].split(Vu);if(n.length===Object.keys($u).length){var a={kind:Xu(n),account:el(n),amount:Math.abs(Ju(n)),currency:n[$u.CURRENCY],date:tl(n),tags:nl(n),note:n[$u.NOTE]};if(a.kind===Wu){var r=e[++t].split(Vu);a.linkedAccount=el(r),a.linkedAmount=Ju(r),a.linkedCurrency=r[$u.CURRENCY]}qu.push(a)}}return{transactions:qu,accounts:Qu,currencies:Zu}}(e.target.result.split("\n")))}catch(a){n(a)}},a.readAsText(e)})},Vu=";",$u={DATE:0,ACCOUNT:1,TAGS:2,AMOUNT:3,CURRENCY:4,NOTE:5,TRANSFER:6},qu=[],Qu=new Map,Zu=new Set;function Ju(e){return parseFloat(e[$u.AMOUNT].replace(",","."))}function Xu(e){return e[$u.TRANSFER].trim()?Wu:Ju(e)<0?Yu:Hu}function el(e){var t=e[$u.ACCOUNT],n=e[$u.CURRENCY];Qu.has(t)||Qu.set(t,new Set);var a=Qu.get(t);return a.has(n)||a.add(n),Zu.has(n)||Zu.add(n),t}function tl(e){return e[$u.DATE].split(".").reverse().join("-")}function nl(e){return e[$u.TAGS].trim()&&Object(q.a)({},Xu(e),e[$u.TAGS].replace("\\","/").split("/"))}var al=ji.a.mark(il),rl=ji.a.mark(sl),cl=ji.a.mark(ul),ol=ji.a.mark(ll);function il(){var e,t,n,a,r,c,o,i,s,u,l,p,d,m,f;return ji.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,Object(Ei.d)(mc);case 3:return e=h.sent,h.next=6,Object(Ei.b)(zu,e);case 6:return t=h.sent,n=t.transactions,a=t.accounts,r=t.currencies,h.next=12,Object(Ei.c)(lc(n.length-1));case 12:return h.next=14,sl(r);case 14:return h.next=16,ul(a);case 16:c=h.sent,o=!0,i=!1,s=void 0,h.prev=20,u=n.entries()[Symbol.iterator]();case 22:if(o=(l=u.next()).done){h.next=34;break}return p=l.value,d=Object($.a)(p,2),m=d[0],f=d[1],h.next=29,Es(bt(qe(Object(b.a)({},f,{accountId:c.get(f.account),linkedAccountId:c.get(f.linkedAccount)}))));case 29:return h.next=31,Object(Ei.c)(pc(m));case 31:o=!0,h.next=22;break;case 34:h.next=40;break;case 36:h.prev=36,h.t0=h.catch(20),i=!0,s=h.t0;case 40:h.prev=40,h.prev=41,o||null==u.return||u.return();case 43:if(h.prev=43,!i){h.next=46;break}throw s;case 46:return h.finish(43);case 47:return h.finish(40);case 48:h.next=54;break;case 50:return h.prev=50,h.t1=h.catch(0),h.next=54,Object(Ei.c)(dc(h.t1));case 54:case"end":return h.stop()}},al,null,[[0,50],[20,36,40,48],[41,,43,47]])}function sl(e){var t,n;return ji.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ei.d)(K);case 2:return t=a.sent,a.next=5,Object(Ei.d)(W);case 5:return n=a.sent,a.next=8,Object(Ei.c)(D({base:t,secondary:Xs()(n,Object(m.a)(e))}));case 8:case"end":return a.stop()}},rl)}function ul(e){var t,n,a,r,c,o,i,s,u,l,p;return ji.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:t=new Map,n=!0,a=!1,r=void 0,d.prev=4,c=e.entries()[Symbol.iterator]();case 6:if(n=(o=c.next()).done){d.next=22;break}return i=o.value,s=Object($.a)(i,2),u=s[0],l=s[1],d.next=13,Object(Ei.d)(pe(u));case 13:if(p=d.sent){d.next=18;break}return d.next=17,ll(u,Object(m.a)(l));case 17:p=d.sent;case 18:t.set(u,p.id);case 19:n=!0,d.next=6;break;case 22:d.next=28;break;case 24:d.prev=24,d.t0=d.catch(4),a=!0,r=d.t0;case 28:d.prev=28,d.prev=29,n||null==c.return||c.return();case 31:if(d.prev=31,!a){d.next=34;break}throw r;case 34:return d.finish(31);case 35:return d.finish(28);case 36:return d.abrupt("return",t);case 37:case"end":return d.stop()}},cl,null,[[4,24,28,36],[29,,31,35]])}function ll(e,t){var n;return ji.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=ee({name:e,group:Z,balance:t.reduce(function(e,t){return e[t]=0,e},{}),currencies:t,on_dashboard:!1}),a.next=3,Gs(bn(n));case 3:return a.abrupt("return",n);case 4:case"end":return a.stop()}},ol)}var pl=[Object(Ei.e)(uc,il)],dl=ji.a.mark(bl),ml=ji.a.mark(fl);function bl(){var e,t,n,a,r,c;return ji.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Ei.d)(Yr);case 2:return e=o.sent,o.next=5,Object(Ei.d)(K);case 5:return t=o.sent,o.next=8,Object(Ei.d)(B);case 8:if(n=o.sent,o.t0=e.data.netWorthEnd,o.t0){o.next=14;break}return o.next=13,Object(Ei.d)(Ee);case 13:o.t0=o.sent;case 14:return a=o.t0,o.prev=15,o.next=18,Object(Ei.b)(is.loadFiltered,{date:(i=e).date,accounts:i.accounts});case 18:return r=o.sent,o.next=21,Object(Ei.b)(Rr,e,r,n,t,a);case 21:return c=o.sent,o.next=24,Object(Ei.c)(qa(c));case 24:o.next=30;break;case 26:return o.prev=26,o.t1=o.catch(15),o.next=30,Object(Ei.c)(Qa(o.t1.message));case 30:case"end":return o.stop()}var i},dl,null,[[15,26]])}function fl(){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ei.c)($a());case 2:case"end":return e.stop()}},ml)}var hl=[Object(Ei.e)($a,bl),Object(Ei.e)(Ya,fl),Object(Ei.e)(Wa,fl),Object(Ei.e)(Ha,fl),Object(Ei.e)(za,fl),Object(Ei.e)(Va,fl)],gl=Object(m.a)(Lu),Ol=ji.a.mark(yl);function yl(){return ji.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ei.a)([].concat(Object(m.a)(gl),Object(m.a)(zs),Object(m.a)(Ku),Object(m.a)(pl),Object(m.a)(hl),Object(m.a)(ju),Object(m.a)(Zs),Object(m.a)(rs),Object(m.a)(Cs)));case 2:case"end":return e.stop()}},Ol)}var vl=Object(Ao.a)(),jl=Object(To.composeWithDevTools)(Object(So.applyMiddleware)(vl));p.init({dsn:"https://5ae855d4c1d840c1b06679123069574f@sentry.io/1335198"});var El=function(e){var t=Object(So.createStore)(Uu,e,jl);return vl.run(yl),t}(),xl=Object(o.a)();l.a.render(s.a.createElement(so,{store:El,history:xl}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");uo?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):lo(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):lo(e)})}}()}},[[346,1,2]]]);
//# sourceMappingURL=main.d2d76eef.chunk.js.map